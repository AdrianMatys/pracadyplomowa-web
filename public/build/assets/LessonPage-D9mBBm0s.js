import{d as W,r as k,a as d,b as e,t as i,i as g,o as n,c as x,m as y,n as Z,p as T,q as be,e as ye,B as re,f as M,g as A,F as K,h as q,u as _e}from"./vendor-BOwXO-1K.js";import{a as we,f as ke}from"./MainHeader.vue_vue_type_script_setup_true_lang-CaPHAqjJ.js";import{u as F,_ as Ce,a as Se,I as le,b as $e}from"./main-C3y6mfnZ.js";import{u as Pe,f as Ie}from"./useDashboardData-WF0fewD0.js";import{u as je}from"./useProfileData-D1D9iQo9.js";import{I as G}from"./IconArrowLeft-BC3vbpmK.js";import{I as ne}from"./IconArrowRight-B_d78JhK.js";import{I as Le}from"./IconLock-C2axSkB8.js";import{I as Ee}from"./IconSpinner-C0Ja7D1x.js";import"./axios-B9ygI19o.js";const Oe={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-inputBg"},Ae={class:"flex items-center justify-between border-b border-strokePrimary/30 bg-card px-4 py-2"},Te={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},ze=["value"],De=W({__name:"CodeEditor",props:{modelValue:{},language:{}},emits:["update:modelValue"],setup(u,{emit:c}){const{t:v}=F(),p=c,$=k(null),z=h=>{const r=h.target;p("update:modelValue",r.value)},P=h=>{if(h.key==="Tab"){h.preventDefault();const r=h.target,L=r.selectionStart,N=r.selectionEnd,m=r.value;r.value=m.substring(0,L)+"  "+m.substring(N),r.selectionStart=r.selectionEnd=L+2,p("update:modelValue",r.value)}};return(h,r)=>(n(),d("div",Oe,[e("div",Ae,[e("span",Te,i(u.language||g(v)("editor.code")),1)]),e("textarea",{ref_key:"textareaRef",ref:$,class:"h-full w-full resize-none bg-transparent p-4 font-mono text-sm leading-relaxed text-textWhite focus:outline-none whitespace-pre-wrap break-words",value:u.modelValue,spellcheck:"false",onInput:z,onKeydown:P},null,40,ze)]))}}),Re={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-card"},Be={class:"border-b border-strokePrimary/30 px-4 py-2"},He={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},Ve=["srcdoc","title"],Me=W({__name:"LivePreview",props:{code:{},previewType:{}},setup(u){const{t:c,currentLanguage:v}=F(),p=u,$=x(()=>v.value==="pl"?'PodglÄ…d wizualny nie jest dostÄ™pny dla tego zadania.<br>SprawdÅº rozwiÄ…zanie uÅ¼ywajÄ…c przycisku "SprawdÅº".':'Visual preview is not available for this task.<br>Check your solution using the "Check" button.'),z=x(()=>{if(p.previewType==="none"||!p.previewType)return`
      <!DOCTYPE html>
      <html>
        <body style="margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background-color:transparent;color:#64748b;font-family:sans-serif;text-align:center;font-size:0.875rem;">
          <p>${$.value}</p>
        </body>
      </html>
    `;const P=p.previewType==="css"?p.code:"",h=p.previewType==="js"?p.code:"";return`
  <!DOCTYPE html>
  <html>
    <head>
      <style>
        body {
          margin: 0;
          padding: 1rem;
          font-family: sans-serif;
          color: #ffffff;
          background-color: transparent;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .container {
          display: flex;
          gap: 1rem;
          background: rgba(255,255,255,0.1);
          padding: 1rem;
          border-radius: 0.5rem;
          width: 100%;
          max-width: 300px;
          height: 150px;
        }
        .item {
          width: 50px;
          height: 50px;
          background: #02B2D0;
          border-radius: 0.25rem;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          transition: all 0.3s ease;
        }
      </style>
      <style>
        ${P}
      </style>
    </head>
    <body>
      <div class="container">
        <div class="item">1</div>
        <div class="item">2</div>
        <div class="item">3</div>
      </div>
      <script>
        window.onload = function() {
          try {
            ${h}
          } catch (e) {
            console.error(e);
          }
        }
      
      <\/script>
    </body>
  </html>
`});return(P,h)=>(n(),d("div",Re,[e("div",Be,[e("span",He,i(g(c)("lesson.preview")),1)]),e("iframe",{class:"h-full w-full border-0 bg-transparent",srcdoc:z.value,sandbox:"allow-scripts",title:g(c)("lesson.preview")},null,8,Ve)]))}}),Ne={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-[#111a2c]"},We={class:"border-b border-strokePrimary/30 px-4 py-2 flex justify-between items-center"},Fe={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},Ke={key:0,class:"text-xs text-textPrimary animate-pulse"},Ue={class:"h-full w-full overflow-auto bg-[#0d1422] p-4 font-mono text-sm leading-relaxed"},Xe={key:1,class:"text-textSecondary opacity-50"},Je=W({__name:"ConsoleOutput",props:{output:{},isError:{type:Boolean},isLoading:{type:Boolean}},setup(u){const{t:c}=F();return(v,p)=>(n(),d("div",Ne,[e("div",We,[e("span",Fe,i(g(c)("console.title")),1),u.isLoading?(n(),d("span",Ke,i(g(c)("console.executing")),1)):y("",!0)]),e("div",Ue,[u.output?(n(),d("pre",{key:0,class:Z([u.isError?"text-red-400":"text-emerald-400","whitespace-pre-wrap break-all"])},i(u.output),3)):u.isLoading?y("",!0):(n(),d("div",Xe,i(g(c)("console.placeholder")),1))])]))}}),Ye={class:"fixed bottom-1/4 right-0 z-50 flex flex-col items-end pointer-events-none"},qe={key:0,class:"animate-pop-in relative right-4 mb-4 mr-8 max-w-xs rounded-[2rem] border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] pointer-events-auto"},Ge={class:"space-y-3 font-sans text-black"},Qe={key:0,class:"space-y-1"},Ze={class:"text-xs font-black uppercase tracking-wider text-blue-600 block mb-1"},et={class:"text-sm font-medium leading-relaxed"},tt={key:1,class:"space-y-1 pt-3 border-t-2 border-dashed border-gray-200"},st={class:"text-xs font-black uppercase tracking-wider text-purple-600 block mb-1"},ot={class:"text-sm font-medium leading-relaxed"},at={key:2,class:"space-y-2"},rt={class:"text-sm text-gray-500"},lt={key:3,class:"text-xs font-semibold italic text-gray-400 pt-1 border-t border-gray-100"},nt={class:"h-full w-full",style:{transform:"scaleX(-1)"}},it=["src"],dt={key:0,class:"absolute left-6 top-4 flex h-8 w-8 items-center justify-center rounded-full border-2 border-white bg-red-500 text-sm font-bold text-white shadow-lg animate-bounce"},ut=W({__name:"HintCharacter",props:{failedAttempts:{},hint1:{},hint2:{},state:{}},setup(u){const c=u,{t:v}=F(),p=k(!1),$=x(()=>{if(p.value)return"/images/char_hint.png";switch(c.state){case"checking":return"/images/char_checking.png";case"hint":return"/images/char_hint.png";default:return"/images/char_neutral.png"}}),z=x(()=>!!c.hint1),P=x(()=>!!c.hint2),h=x(()=>c.failedAttempts>=5&&z.value),r=x(()=>c.failedAttempts>=10&&P.value),L=x(()=>Math.max(0,5-c.failedAttempts)),N=x(()=>Math.max(0,10-c.failedAttempts)),m=()=>{p.value=!p.value};return(H,_)=>(n(),d("div",Ye,[p.value?(n(),d("div",qe,[e("div",Ge,[h.value?(n(),d("div",Qe,[e("span",Ze,i(g(v)("hint.hint1")),1),e("p",et,i(u.hint1),1)])):y("",!0),r.value?(n(),d("div",tt,[e("span",st,i(g(v)("hint.hint2")),1),e("p",ot,i(u.hint2),1)])):y("",!0),!h.value&&!r.value?(n(),d("div",at,[_[3]||(_[3]=e("p",{class:"text-sm font-bold text-gray-700"},"ðŸ’¡ Masz problem z zadaniem?",-1)),e("p",rt,[_[2]||(_[2]=T(" Po ",-1)),e("strong",null,i(L.value),1),T(" "+i(L.value===1?"bÅ‚Ä™dnej prÃ³bie":"bÅ‚Ä™dnych prÃ³bach")+" odblokujÄ™ pierwszÄ… wskazÃ³wkÄ™. ",1)])])):y("",!0),h.value&&!r.value&&P.value?(n(),d("p",lt,i(g(v)("hint.hint2AvailableIn",{count:N.value})),1)):y("",!0)]),_[4]||(_[4]=e("div",{class:"absolute -bottom-3 right-8 h-6 w-6 rotate-45 border-b-2 border-r-2 border-black bg-white"},null,-1))])):y("",!0),e("div",{class:"pointer-events-auto relative -mr-20 transition-transform duration-300 cursor-help",onMouseenter:_[0]||(_[0]=f=>p.value=!0),onMouseleave:_[1]||(_[1]=f=>p.value=!1)},[e("button",{class:"group relative h-56 w-56 focus:outline-none",onClick:m},[e("div",nt,[e("img",{src:$.value,alt:"Assistant",class:"h-full w-full object-contain drop-shadow-xl animate-peek",style:{"transform-origin":"bottom right"}},null,8,it)]),h.value&&!p.value?(n(),d("span",dt," ! ")):y("",!0)])],32)]))}}),ct=Ce(ut,[["__scopeId","data-v-4701d687"]]),ie="https://judge0-ce.p.rapidapi.com",de="5af29ad5b5msh36aa46c130a5c53p1bca7cjsnc5e970eec62e",Q=u=>{try{return btoa(unescape(encodeURIComponent(u)))}catch(c){return console.error("Error encoding to Base64:",c),""}},U=u=>{if(!u)return null;try{return decodeURIComponent(escape(atob(u)))}catch(c){return console.error("Error decoding from Base64:",c),u}},vt=async u=>{const c={...u,source_code:Q(u.source_code),stdin:u.stdin?Q(u.stdin):void 0,expected_output:u.expected_output?Q(u.expected_output):void 0},v=await fetch(`${ie}/submissions?base64_encoded=true&fields=*`,{method:"POST",headers:{"content-type":"application/json","Content-Type":"application/json","X-RapidAPI-Key":de,"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com"},body:JSON.stringify(c)});if(!v.ok){const $=await v.text();throw new Error(`Failed to create submission: ${v.status} ${v.statusText} - ${$}`)}return(await v.json()).token},pt=async u=>{const c=await fetch(`${ie}/submissions/${u}?base64_encoded=true&fields=*`,{method:"GET",headers:{"X-RapidAPI-Key":de,"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com"}});if(!c.ok)throw new Error("Failed to get submission");const v=await c.json();return{...v,stdout:U(v.stdout),stderr:U(v.stderr),compile_output:U(v.compile_output),message:U(v.message)}},mt={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},ft={class:"mx-auto grid w-full max-w-[1600px] flex-1 grid-cols-1 gap-6 px-6 py-8 lg:grid-cols-[350px_1fr]"},xt={class:"flex flex-col gap-6 lg:order-first"},ht={class:"rounded-2xl border border-strokePrimary/30 bg-card p-6"},gt={class:"mb-6"},bt={class:"text-lg font-bold text-textWhite"},yt={class:"flex flex-col gap-2"},_t=["disabled","onClick"],wt={class:"flex items-center gap-3"},kt={key:1},Ct={class:"text-sm font-medium line-clamp-1"},St={class:"flex flex-col gap-6"},$t={key:0,class:"flex flex-col gap-6 rounded-2xl border border-strokePrimary/30 bg-card p-6 shadow-2xl shadow-black/20 h-full"},Pt={key:0,class:"flex flex-col h-full relative"},It={class:"mb-8 space-y-6"},jt={class:"flex items-start justify-between gap-4 border-b border-strokePrimary/20 pb-6"},Lt={class:"text-3xl font-bold text-textWhite mb-2"},Et={class:"text-textSecondary"},Ot={class:"prose prose-invert max-w-none text-textSecondary text-lg leading-relaxed"},At={key:0,class:"whitespace-pre-line mb-4"},Tt={key:1,class:"my-6 rounded-lg bg-[#111111] border border-strokePrimary/30 overflow-hidden shadow-lg"},zt={class:"flex items-center justify-between px-4 py-2 bg-[#1a1a1a] border-b border-strokePrimary/20"},Dt={class:"text-xs font-mono text-blue-400 font-bold uppercase"},Rt={class:"p-4 overflow-x-auto text-sm font-mono text-gray-300 leading-relaxed"},Bt={class:"mt-auto flex justify-end border-t border-strokePrimary/20 pt-8"},Ht={class:"flex items-center gap-4"},Vt=["disabled"],Mt={key:1,class:"flex flex-col h-full gap-6"},Nt={class:"mb-4 space-y-4"},Wt={class:"flex items-start justify-between gap-4"},Ft={class:"text-2xl font-bold text-textWhite"},Kt={class:"prose prose-invert max-w-none text-textSecondary"},Ut={key:0,class:"whitespace-pre-line mb-4"},Xt={key:1,class:"my-4 rounded-lg bg-[#111111] border border-strokePrimary/30 overflow-hidden"},Jt={class:"px-4 py-2 bg-[#1a1a1a] text-xs text-blue-400 font-mono border-b border-strokePrimary/20 uppercase font-bold"},Yt={class:"p-4 overflow-x-auto text-sm font-mono text-gray-300"},qt={class:"flex items-center justify-between"},Gt={class:"text-lg font-bold text-textWhite"},Qt={class:"flex items-center gap-4"},Zt=["disabled"],es={key:1,class:"text-xs font-semibold text-red-500 max-w-[200px] leading-tight"},ts={key:2,class:"flex items-center gap-4"},ss={class:"text-emerald-400 font-bold flex items-center gap-2"},os={class:"grid flex-1 grid-cols-1 gap-6 lg:grid-cols-2 min-h-[500px]"},as={class:"flex items-center justify-between border-t border-strokePrimary/20 pt-6"},rs=["disabled"],ls={key:1,class:"flex h-64 items-center justify-center rounded-2xl border border-dashed border-strokePrimary/30 text-textSecondary"},hs=W({__name:"LessonPage",setup(u){const c=be(),v=_e(),{dashboardData:p,loadDashboardData:$}=Pe(),{profileData:z,loadProfileData:P,markLessonAsCompleted:h}=je(),{t:r,currentLanguage:L}=F(),{isLoggedIn:N}=Se(),m=x(()=>c.params.courseId),H=x(()=>Number(c.params.lessonOrder)),_=k(null),f=k(""),w=k(null),E=k(!1),I=k(""),C=k(!1),S=k(!1),D=k(0),j=k([]),ee=async()=>{try{const s=await Ie(m.value,L.value);s&&(_.value=s)}catch(s){console.error("Error loading course details on LessonPage:",s)}};ye(async()=>{$(),P(),await ee()});const te=x(()=>_.value||p.value?.courses.find(s=>s.id===m.value));re(L,()=>{ee()});const ue=x(()=>t.value?.order===0),ce=x(()=>E.value?"checking":"idle"),ve=x(()=>p.value?.navLinks??[]),R=x(()=>z.value?.courseProgress.find(s=>s.courseId===m.value)),O=x(()=>{const s=te.value?.lessons??[],a=R.value;return a?s.map((o,l)=>{const b=o.id.toString(),B=a.completedLessonIds.includes(b),ge=l===0||B||l>0&&a.completedLessonIds.includes(s[l-1].id.toString());let Y="locked";return B?Y="completed":ge&&(Y="available"),{...o,status:Y,isCompleted:B,isActive:o.order===H.value}}):s.map(o=>{const l=j.value.includes(o.id.toString());return{...o,status:l?"completed":"available",isCompleted:l,isActive:o.order===H.value}})}),t=x(()=>O.value.find(s=>s.order===H.value));re(t,s=>{w.value=null,I.value="",C.value=!1,E.value=!1,D.value=0,S.value=s?.isCompleted||!1;const a=R.value?.savedCode?.[s?.id.toString()??""];a?f.value=a:s?.initialCode?f.value=s.initialCode:f.value=""},{immediate:!0});const X=x(()=>{const s=O.value.findIndex(a=>a.order===H.value);return s===-1||s===O.value.length-1?null:O.value[s+1]}),V=x(()=>{const s=O.value.findIndex(a=>a.order===H.value);return s<=0?null:O.value[s-1]}),J=s=>{const a=Number(s);O.value.find(l=>l.order===a)?.status!=="locked"&&v.push({name:"lesson",params:{courseId:m.value,lessonOrder:a}})},pe=async s=>{let o=0;for(;o<10;)try{const l=await pt(s);if(l.status.id<=2){await new Promise(b=>setTimeout(b,1e3)),o++;continue}l.status.id===3?(I.value=l.stdout||r("lesson.noOutput"),C.value=!1,t.value?.expectedOutput?l.stdout?.trim()===t.value.expectedOutput.trim()?(w.value=null,S.value=!0):(w.value=`Expected: "${t.value.expectedOutput.trim()}", got: "${l.stdout?.trim()}"`,C.value=!0,D.value++):S.value=!0):(I.value=ke(l.stderr||l.compile_output||l.message||r("lesson.executionError"),r),C.value=!0,w.value=r("lesson.executionError"),D.value++);return}catch(l){console.error(l),I.value=r("lesson.apiError"),C.value=!0,w.value=r("lesson.connectionError");return}I.value=r("lesson.timeoutError"),C.value=!0},me=async s=>new Promise(a=>{const o=[],l=console.log;console.log=(...b)=>{o.push(b.map(B=>typeof B=="object"?JSON.stringify(B,null,2):String(B)).join(" "))};try{const b=`
        try {
          ${s}
        } catch (err) {
          throw err;
        }
      `;new Function(b)(),a({stdout:o.join(`
`),error:null})}catch(b){a({stdout:o.join(`
`),error:b.message||String(b)})}finally{console.log=l}}),se=s=>s.toLowerCase().replace(/\s+/g," ").trim(),fe=async()=>{if(w.value=null,C.value=!1,S.value=!1,t.value?.judge0LanguageId){E.value=!0,I.value="";try{if(t.value.judge0LanguageId===63){const s=f.value+`
`+(t.value.testCode||""),a=await me(s);if(I.value=a.stdout||r("lesson.noOutput"),a.error)C.value=!0,I.value+=`

Error: ${a.error}`,w.value=r("lesson.executionError"),D.value++;else if(t.value.expectedOutput){const o=se(t.value.expectedOutput),l=se(a.stdout);l.includes(o)||l===o?(S.value=!0,w.value=null,m.value&&t.value&&f.value&&R.value&&!t.value.isCompleted&&await h(m.value,t.value.id.toString(),void 0,f.value)):(w.value=`Oczekiwano wyniku: "${t.value.expectedOutput.trim()}"`,C.value=!0,D.value++)}else S.value=!0,m.value&&t.value&&f.value&&(R.value?t.value.isCompleted||await h(m.value,t.value.id.toString(),void 0,f.value):j.value.includes(t.value.id.toString())||j.value.push(t.value.id.toString()))}else{const s=f.value+`
`+(t.value.testCode||""),a=await vt({source_code:s,language_id:t.value.judge0LanguageId,expected_output:t.value.expectedOutput});await pe(a),S.value&&m.value&&t.value&&f.value&&(R.value?t.value.isCompleted||await h(m.value,t.value.id.toString(),void 0,f.value):j.value.includes(t.value.id.toString())||j.value.push(t.value.id.toString()))}}catch(s){console.error(s),w.value=r("lesson.submitError")}finally{E.value=!1}return}if(t.value?.validationRegex){let s=t.value.validationRegex,a="";const o=s.match(/^\/(.+)\/([gimsuy]*)$/);if(o&&(s=o[1],a=o[2]),!new RegExp(s,a).test(f.value)){w.value=r("lesson.incorrectSolution"),D.value++;return}}S.value=!0,m.value&&t.value&&f.value&&(N.value&&t.value.exerciseId&&$e.post(`/api/exercises/${t.value.exerciseId}/submit`,{code:f.value}).catch(()=>{}),R.value?t.value.isCompleted||await h(m.value,t.value.id.toString(),void 0,f.value):j.value.includes(t.value.id.toString())||j.value.push(t.value.id.toString()))},oe=async()=>{t.value&&(R.value?t.value.isCompleted||await h(m.value,t.value.id.toString(),X.value?.id.toString(),f.value):j.value.includes(t.value.id.toString())||j.value.push(t.value.id.toString()),X.value?v.push({name:"lesson",params:{courseId:m.value,lessonOrder:X.value.order}}):v.push({name:"course-detail",params:{courseId:m.value}}))},xe=()=>{v.push({name:"course-detail",params:{courseId:m.value}})},he=s=>{switch(s){case"completed":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"current":return"bg-textPrimary/20 text-textPrimary border-textPrimary/50";case"available":return"bg-cardHover text-textWhite border-strokePrimary/30 hover:border-textPrimary/50";default:return"bg-cardDarker text-textSecondary border-transparent opacity-50"}},ae=x(()=>{const s=t.value?.taskContent||t.value?.content||r("lesson.noTaskDescription")||"",a=[],o=/```(\w+)?\n([\s\S]*?)```/g;let l=0,b;for(;(b=o.exec(s))!==null;)b.index>l&&a.push({type:"text",content:s.slice(l,b.index)}),a.push({type:"code",language:b[1]||"text",content:b[2].trim()}),l=o.lastIndex;return l<s.length&&a.push({type:"text",content:s.slice(l)}),a});return(s,a)=>(n(),d(K,null,[e("div",mt,[A(we,{"nav-links":ve.value},null,8,["nav-links"]),e("main",ft,[e("aside",xt,[e("div",ht,[e("div",gt,[e("button",{class:"mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-textSecondary transition hover:text-textPrimary",onClick:xe},[A(G,{class:"h-4 w-4"}),T(" "+i(g(r)("lesson.backToCourse")),1)]),e("h2",bt,i(te.value?.title),1),a[3]||(a[3]=e("div",{class:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-cardHover"},[e("div",{class:"h-full bg-textPrimary",style:{width:"45%"}})],-1))]),e("div",yt,[(n(!0),d(K,null,q(O.value,(o,l)=>(n(),d("button",{key:o.id,class:Z(["flex w-full items-center justify-between rounded-xl border p-3 text-left transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary",[he(o.status),o.isActive?"ring-2 ring-textPrimary border-textPrimary/50 shadow-[0_0_15px_rgba(59,130,246,0.2)]":""]]),disabled:o.status==="locked",onClick:b=>J(o.order??l)},[e("div",wt,[e("div",{class:Z(["flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-bold",o.status==="completed"?"bg-emerald-500 text-bgPrimary":"bg-cardHover"])},[o.status==="completed"?(n(),M(le,{key:0,class:"h-3.5 w-3.5"})):(n(),d("span",kt,i(o.order??l),1))],2),e("span",Ct,i(o.title),1)]),o.status==="locked"?(n(),M(Le,{key:0,class:"h-4 w-4 shrink-0 opacity-50"})):y("",!0)],10,_t))),128))])])]),e("section",St,[t.value?(n(),d("div",$t,[ue.value?(n(),d("div",Pt,[e("div",It,[e("div",jt,[e("div",null,[e("h1",Lt,i(t.value.title),1),e("p",Et,i(g(r)("lesson.informational")||"Lesson Informational"),1)])]),e("div",Ot,[(n(!0),d(K,null,q(ae.value,(o,l)=>(n(),d("div",{key:l},[o.type==="text"?(n(),d("p",At,i(o.content),1)):(n(),d("div",Tt,[e("div",zt,[e("span",Dt,i(o.language),1),a[4]||(a[4]=e("div",{class:"flex gap-1.5"},[e("div",{class:"w-2.5 h-2.5 rounded-full bg-red-500/20"}),e("div",{class:"w-2.5 h-2.5 rounded-full bg-yellow-500/20"}),e("div",{class:"w-2.5 h-2.5 rounded-full bg-green-500/20"})],-1))]),e("pre",Rt,[e("code",null,i(o.content),1)])]))]))),128))])]),e("div",Bt,[e("div",Ht,[e("button",{class:"flex items-center gap-2 rounded-full border border-strokePrimary/40 px-6 py-3 text-sm font-semibold text-textSecondary transition hover:bg-cardHover hover:text-textWhite disabled:opacity-50",disabled:!V.value,onClick:a[0]||(a[0]=o=>V.value&&J(V.value.order??0))},[A(G,{class:"h-4 w-4"}),T(" "+i(g(r)("lesson.previous")),1)],8,Vt),e("button",{class:"flex items-center gap-2 rounded-full bg-emerald-600 px-8 py-3 text-base font-bold text-white transition hover:bg-emerald-700 hover:scale-105 active:scale-95 shadow-lg shadow-emerald-600/20",onClick:oe},[T(i(g(r)("lesson.next"))+" ",1),A(ne,{class:"h-5 w-5"})])])])])):(n(),d("div",Mt,[e("div",Nt,[e("div",Wt,[e("h1",Ft,i(t.value.title),1)]),e("div",Kt,[(n(!0),d(K,null,q(ae.value,(o,l)=>(n(),d("div",{key:l},[o.type==="text"?(n(),d("p",Ut,i(o.content),1)):(n(),d("div",Xt,[e("div",Jt,i(o.language),1),e("pre",Yt,[e("code",null,i(o.content),1)])]))]))),128))])]),e("div",qt,[e("h2",Gt,i(g(r)("lesson.editorLabel")),1),e("div",Qt,[S.value?y("",!0):(n(),d("button",{key:0,class:"flex items-center gap-2 rounded-full bg-blue-600 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:opacity-70 disabled:cursor-not-allowed",disabled:E.value,onClick:fe},[E.value?(n(),M(Ee,{key:0,class:"h-4 w-4 animate-spin"})):y("",!0),e("span",null,i(E.value?g(r)("lesson.checking"):g(r)("lesson.check")),1)],8,Zt)),w.value?(n(),d("span",es,i(w.value),1)):y("",!0),S.value?(n(),d("div",ts,[e("span",ss,[A(le,{class:"w-5 h-5"}),T(" "+i(g(r)("lesson.correct")),1)]),e("button",{class:"flex items-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-emerald-700",onClick:oe},[T(i(g(r)("lesson.next"))+" ",1),A(ne,{class:"h-4 w-4"})])])):y("",!0)])]),e("div",os,[A(De,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=o=>f.value=o),language:t.value.editorLabel||(t.value.judge0LanguageId?"JS/Code":"CSS/HTML")},null,8,["modelValue","language"]),t.value.judge0LanguageId?(n(),M(Je,{key:0,output:I.value,"is-error":C.value,"is-loading":E.value},null,8,["output","is-error","is-loading"])):(n(),M(Me,{key:1,code:f.value,"preview-type":t.value.previewType||"css"},null,8,["code","preview-type"]))]),e("div",as,[e("button",{class:"flex items-center gap-2 rounded-full border border-strokePrimary/40 px-5 py-2.5 text-sm font-semibold text-textSecondary transition hover:bg-cardHover hover:text-textWhite disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-textSecondary",disabled:!V.value,onClick:a[2]||(a[2]=o=>V.value&&J(V.value.order??0))},[A(G,{class:"h-4 w-4"}),T(" "+i(g(r)("lesson.previous")),1)],8,rs)])]))])):(n(),d("div",ls,i(g(r)("lesson.selectLesson")),1))])])]),t.value?(n(),M(ct,{key:0,"failed-attempts":D.value,hint1:t.value.hint,hint2:t.value.hint2,state:ce.value},null,8,["failed-attempts","hint1","hint2","state"])):y("",!0)],64))}});export{hs as default};
