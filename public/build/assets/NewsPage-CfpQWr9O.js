import{a as l,o as n,b as e,d as H,r as w,e as M,c as u,B as I,g as k,m as f,t,i as r,F as P,h as S,p as R,A as U,s as D,v as z,E,u as F}from"./vendor-lIf_UB2E.js";import{a as q,b as j}from"./MainHeader.vue_vue_type_script_setup_true_lang-BbH4qV52.js";import{a as O,d as Q,u as G}from"./useDashboardData-Baaeq227.js";import{_ as J,u as K}from"./main-AnIw5FzX.js";import{I as X}from"./IconArrowRight-9MNzdrZh.js";import"./axios-B9ygI19o.js";const{data:Y,isLoading:Z,error:ee,load:te,refresh:se}=O(()=>Q()),oe=()=>({newsData:Y,isNewsLoading:Z,newsError:ee,loadNewsData:()=>te(),refreshNewsData:()=>se()}),re={},ae={fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"};function le(C,_){return n(),l("svg",ae,[..._[0]||(_[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])}const ne=J(re,[["render",le]]),de={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},ie={class:"mx-auto flex w-full max-w-6xl flex-1 flex-col gap-10 px-6 py-10"},ce={key:0,class:"grid gap-8 rounded-3xl border border-strokePrimary/30 bg-card p-8 md:grid-cols-[1.1fr_0.9fr]"},ue={class:"space-y-5"},xe={class:"text-xs uppercase tracking-[0.3em] text-textSecondary"},pe={class:"text-3xl font-bold leading-tight text-textWhite"},ve={class:"text-sm text-textSecondary"},he={class:"flex items-center gap-4"},fe={class:"flex items-center gap-2"},_e={key:0,class:"h-8 w-8 rounded-full overflow-hidden border border-white/10"},me=["src","alt"],be={key:1,class:"h-8 w-8 rounded-full bg-gradient-to-tr from-textPrimary to-purple-500/50 flex items-center justify-center text-[10px] font-bold text-bgPrimary"},ye={class:"text-xs text-textSecondary"},ge={class:"flex gap-3 text-xs text-textSecondary"},we={class:"rounded-full border border-strokePrimary/60 px-3 py-1"},ke={class:"rounded-full border border-strokePrimary/60 px-3 py-1"},Pe={class:"flex flex-wrap gap-2"},Se=["aria-label"],Ae={class:"relative flex h-full flex-col justify-between p-6"},De={class:"text-xs uppercase tracking-[0.4em] text-textSecondary"},je={class:"mt-3 text-lg font-semibold text-textWhite"},Ce={class:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4 backdrop-blur"},Ne={class:"flex justify-between text-xs text-textSecondary"},Le={class:"flex justify-between items-center text-xs text-textSecondary"},$e={class:"flex items-center gap-2"},We={key:0,class:"h-6 w-6 rounded-full overflow-hidden border border-white/10"},Be=["src","alt"],Te={class:"flex justify-between text-xs text-textSecondary"},Ve={class:"space-y-4"},He={class:"flex flex-wrap items-center justify-between gap-3"},Me={class:"text-xs uppercase tracking-[0.3em] text-textSecondary"},Ie={class:"text-2xl font-semibold text-textWhite"},Re={class:"flex flex-wrap items-center gap-4"},Ue={class:"relative flex-1 max-w-md"},ze=["placeholder"],Ee={class:"flex items-center gap-2"},Fe={class:"text-sm text-textSecondary"},qe={value:100},Oe={class:"text-sm text-textSecondary"},Qe={key:0,class:"grid gap-5 md:grid-cols-2"},Ge=["onClick"],Je={class:"space-y-3"},Ke={class:"flex items-center justify-between text-xs text-textSecondary"},Xe={class:"uppercase tracking-[0.3em] text-textSecondary"},Ye={class:"text-xl font-semibold text-textWhite"},Ze={class:"text-sm text-textSecondary"},et={class:"flex flex-wrap items-center gap-3 text-[11px] text-textSecondary"},tt={class:"rounded-full border border-strokePrimary/40 px-3 py-1"},st={class:"flex items-center gap-2"},ot={key:0,class:"h-5 w-5 rounded-full overflow-hidden border border-white/10"},rt=["src","alt"],at={class:"flex flex-wrap gap-2"},lt={key:1,class:"rounded-2xl border border-dashed border-strokePrimary/40 bg-card p-6 text-center text-sm text-textSecondary"},nt={key:2,class:"flex items-center justify-center gap-2 pt-6"},dt=["disabled"],it={class:"px-4 py-2 text-sm text-textSecondary"},ct=["disabled"],_t=H({__name:"NewsPage",setup(C){const{dashboardData:_,loadDashboardData:N}=G(),{newsData:L,isNewsLoading:$,loadNewsData:W}=oe(),{t:a}=K(),v=w(""),p=w(10),x=w(1);M(()=>{N(),W()});const B=u(()=>_.value?.navLinks??[]),T=u(()=>L.value?.articles??[]),m=u(()=>{let c=T.value;if(v.value){const o=v.value.toLowerCase();c=c.filter(s=>s.title.toLowerCase().includes(o)||s.excerpt?.toLowerCase().includes(o)||s.author?.toLowerCase().includes(o))}return c}),b=u(()=>Math.ceil(m.value.length/p.value)),h=u(()=>{const c=(x.value-1)*p.value;return m.value.slice(c,c+p.value)}),d=u(()=>h.value[0]),i=u(()=>h.value[1]||null),A=u(()=>h.value.length>2?h.value.slice(2):[]);I([v,p],()=>{x.value=1});const V=F(),y=c=>{V.push({name:"article-detail",params:{articleId:c}})};return(c,o)=>(n(),l("div",de,[k(q,{"nav-links":B.value},null,8,["nav-links"]),e("main",ie,[d.value?(n(),l("section",ce,[e("div",ue,[e("span",xe,t(r(a)("news.featuredArticle")),1),e("h1",pe,t(d.value.title),1),e("p",ve,t(d.value.excerpt),1),e("div",he,[e("div",fe,[d.value.authorAvatar?(n(),l("div",_e,[e("img",{src:d.value.authorAvatar,alt:d.value.author,class:"h-full w-full object-cover"},null,8,me)])):(n(),l("div",be,t(d.value.author.substring(0,1).toUpperCase()),1)),e("span",ye,t(d.value.author),1)]),e("div",ge,[e("span",we,t(r(j)(d.value.date)),1),e("span",ke,t(d.value.readTime),1)])]),e("div",Pe,[(n(!0),l(P,null,S(d.value.tags,s=>(n(),l("span",{key:s,class:"rounded-full border border-textPrimary/40 bg-tagBg px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-textPrimary"},t(s),1))),128))]),e("button",{class:"inline-flex items-center justify-center gap-2 rounded-full bg-textPrimary px-6 py-3 text-sm font-semibold text-bgPrimary transition hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary","aria-label":r(a)("news.readArticle"),tabindex:"0",onClick:o[0]||(o[0]=s=>y(d.value.id))},[R(t(r(a)("news.readArticle"))+" ",1),k(X,{class:"h-4 w-4"})],8,Se)]),i.value?(n(),l("div",{key:0,class:"relative overflow-hidden rounded-3xl border border-strokePrimary/30 bg-cardDarker cursor-pointer transition-transform hover:scale-[1.02]",onClick:o[1]||(o[1]=s=>y(i.value.id))},[e("div",{class:"absolute inset-0 opacity-40",style:U({background:`radial-gradient(circle at top, ${i.value.accent}, transparent 50%)`})},null,4),e("div",Ae,[e("div",null,[e("p",De,t(r(a)("news.platformNews")),1),e("p",je,t(i.value.title),1)]),e("div",Ce,[e("div",Ne,[e("span",null,t(r(a)("news.type")),1),e("span",null,t(i.value.category),1)]),e("div",Le,[e("span",null,t(r(a)("news.author")),1),e("div",$e,[i.value.authorAvatar?(n(),l("div",We,[e("img",{src:i.value.authorAvatar,alt:i.value.author,class:"h-full w-full object-cover"},null,8,Be)])):f("",!0),e("span",null,t(i.value.author),1)])]),e("div",Te,[e("span",null,t(r(a)("news.readTime")),1),e("span",null,t(i.value.readTime),1)])])])])):f("",!0)])):f("",!0),e("section",Ve,[e("div",He,[e("div",null,[e("p",Me,t(r(a)("news.newsAndArticles")),1),e("h2",Ie,t(r(a)("news.stayUpdated")),1)])]),e("div",Re,[e("div",Ue,[k(ne,{class:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-textSecondary"}),D(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>v.value=s),type:"text",placeholder:r(a)("news.searchPlaceholder")||"Szukaj artykułów...",class:"w-full rounded-full border border-strokePrimary/30 bg-cardHover py-2.5 pl-12 pr-4 text-sm text-textWhite placeholder:text-textSecondary/70 focus:border-textPrimary focus:outline-none focus:ring-1 focus:ring-textPrimary"},null,8,ze),[[z,v.value]])]),e("div",Ee,[e("span",Fe,t(r(a)("news.show")),1),D(e("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>p.value=s),class:"rounded-lg border border-strokePrimary/30 bg-cardHover px-3 py-2 text-sm text-textWhite focus:border-textPrimary focus:outline-none"},[o[6]||(o[6]=e("option",{value:10},"10",-1)),o[7]||(o[7]=e("option",{value:20},"20",-1)),o[8]||(o[8]=e("option",{value:50},"50",-1)),e("option",qe,t(r(a)("news.all")),1)],512),[[E,p.value]])])]),e("p",Oe,t(r(a)("news.showingResults",{current:h.value.length,total:m.value.length})),1),A.value.length?(n(),l("div",Qe,[(n(!0),l(P,null,S(A.value,s=>(n(),l("article",{key:s.id,class:"flex h-full flex-col justify-between gap-4 rounded-2xl border border-strokePrimary/30 bg-card p-5 transition hover:bg-cardHover cursor-pointer",onClick:g=>y(s.id)},[e("div",Je,[e("div",Ke,[e("span",Xe,t(s.category),1),e("span",null,t(s.readTime),1)]),e("h3",Ye,t(s.title),1),e("p",Ze,t(s.excerpt),1),e("div",et,[e("span",tt,t(r(j)(s.date)),1),e("div",st,[s.authorAvatar?(n(),l("div",ot,[e("img",{src:s.authorAvatar,alt:s.author,class:"h-full w-full object-cover"},null,8,rt)])):f("",!0),e("span",null,t(s.author),1)])])]),e("div",at,[(n(!0),l(P,null,S(s.tags,g=>(n(),l("span",{key:g,class:"rounded-full border border-strokePrimary/50 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-textSecondary"},t(g),1))),128))])],8,Ge))),128))])):(n(),l("p",lt,t(r($)?r(a)("news.loadingArticles"):r(a)("news.noArticles")),1)),b.value>1?(n(),l("div",nt,[e("button",{disabled:x.value===1,class:"px-4 py-2 rounded-lg border border-strokePrimary/30 text-sm font-semibold text-textSecondary hover:bg-cardHover disabled:opacity-50 disabled:cursor-not-allowed transition",onClick:o[4]||(o[4]=s=>x.value--)},t(r(a)("news.previous")),9,dt),e("span",it,t(r(a)("news.pageOf",{current:x.value,total:b.value})),1),e("button",{disabled:x.value===b.value,class:"px-4 py-2 rounded-lg border border-strokePrimary/30 text-sm font-semibold text-textSecondary hover:bg-cardHover disabled:opacity-50 disabled:cursor-not-allowed transition",onClick:o[5]||(o[5]=s=>x.value++)},t(r(a)("news.next")),9,ct)])):f("",!0)])])]))}});export{_t as default};
