import{d as F,r as S,a as i,b as e,t as n,i as h,o as r,c as p,m as _,n as ee,p as D,z as ye,e as _e,B as le,f as W,g as T,F as U,h as q,u as we}from"./vendor-lIf_UB2E.js";import{a as ke,f as Se}from"./MainHeader.vue_vue_type_script_setup_true_lang-BKi87J7A.js";import{u as K,_ as Ce,a as $e,I as ne,b as Pe}from"./main-CyjH2vMn.js";import{u as Ie,f as je}from"./useDashboardData-BnW-B8ai.js";import{u as Le}from"./useProfileData-6GzBRG_F.js";import{I as Q}from"./IconArrowLeft-BmIU9R-Q.js";import{I as ie}from"./IconArrowRight-DAGgd0rx.js";import{I as Ee}from"./IconLock-Brps_nWm.js";import{I as Oe}from"./IconSpinner-C1VwNeHC.js";import"./axios-B9ygI19o.js";const Ae={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-inputBg"},ze={class:"flex items-center justify-between border-b border-strokePrimary/30 bg-card px-4 py-2"},Te={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},De=["value"],Re=F({__name:"CodeEditor",props:{modelValue:{},language:{}},emits:["update:modelValue"],setup(d,{emit:c}){const{t:v}=K(),m=c,L=S(null),E=y=>{const x=y.target;m("update:modelValue",x.value)},C=y=>{if(y.key==="Tab"){y.preventDefault();const x=y.target,u=x.selectionStart,H=x.selectionEnd,R=x.value;x.value=R.substring(0,u)+"  "+R.substring(H),x.selectionStart=x.selectionEnd=u+2,m("update:modelValue",x.value)}};return(y,x)=>(r(),i("div",Ae,[e("div",ze,[e("span",Te,n(d.language||h(v)("editor.code")),1)]),e("textarea",{ref_key:"textareaRef",ref:L,class:"h-full w-full resize-none bg-transparent p-4 font-mono text-sm leading-relaxed text-textWhite focus:outline-none whitespace-pre-wrap break-words",value:d.modelValue,spellcheck:"false",onInput:E,onKeydown:C},null,40,De)]))}}),Be={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-card"},He={class:"border-b border-strokePrimary/30 px-4 py-2"},Ve={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},Me=["srcdoc","title"],Ne=F({__name:"LivePreview",props:{code:{},previewType:{}},setup(d){const{t:c,currentLanguage:v}=K(),m=d,L=p(()=>v.value==="pl"?'Podgld wizualny nie jest dostpny dla tego zadania.<br>Sprawd藕 rozwizanie u偶ywajc przycisku "Sprawd藕".':'Visual preview is not available for this task.<br>Check your solution using the "Check" button.'),E=p(()=>{if(m.previewType==="none"||!m.previewType)return`
      <!DOCTYPE html>
      <html>
        <body style="margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background-color:transparent;color:#64748b;font-family:sans-serif;text-align:center;font-size:0.875rem;">
          <p>${L.value}</p>
        </body>
      </html>
    `;const C=m.previewType==="css"?m.code:"",y=m.previewType==="js"?m.code:"";return`
  <!DOCTYPE html>
  <html>
    <head>
      <style>
        body {
          margin: 0;
          padding: 1rem;
          font-family: sans-serif;
          color: #ffffff;
          background-color: transparent;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .container {
          display: flex;
          gap: 1rem;
          background: rgba(255,255,255,0.1);
          padding: 1rem;
          border-radius: 0.5rem;
          width: 100%;
          max-width: 300px;
          height: 150px;
        }
        .item {
          width: 50px;
          height: 50px;
          background: #02B2D0;
          border-radius: 0.25rem;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          transition: all 0.3s ease;
        }
      </style>
      <style>
        ${C}
      </style>
    </head>
    <body>
      <div class="container">
        <div class="item">1</div>
        <div class="item">2</div>
        <div class="item">3</div>
      </div>
      <script>
        window.onload = function() {
          try {
            ${y}
          } catch (e) {
            console.error(e);
          }
        }
      
      <\/script>
    </body>
  </html>
`});return(C,y)=>(r(),i("div",Be,[e("div",He,[e("span",Ve,n(h(c)("lesson.preview")),1)]),e("iframe",{class:"h-full w-full border-0 bg-transparent",srcdoc:E.value,sandbox:"allow-scripts",title:h(c)("lesson.preview")},null,8,Me)]))}}),We={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-[#111a2c]"},Fe={class:"border-b border-strokePrimary/30 px-4 py-2 flex justify-between items-center"},Ke={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},Ue={key:0,class:"text-xs text-textPrimary animate-pulse"},Xe={class:"h-full w-full overflow-auto bg-[#0d1422] p-4 font-mono text-sm leading-relaxed"},Je={key:1,class:"text-textSecondary opacity-50"},Ye=F({__name:"ConsoleOutput",props:{output:{},isError:{type:Boolean},isLoading:{type:Boolean}},setup(d){const{t:c}=K();return(v,m)=>(r(),i("div",We,[e("div",Fe,[e("span",Ke,n(h(c)("console.title")),1),d.isLoading?(r(),i("span",Ue,n(h(c)("console.executing")),1)):_("",!0)]),e("div",Xe,[d.output?(r(),i("pre",{key:0,class:ee([d.isError?"text-red-400":"text-emerald-400","whitespace-pre-wrap break-all"])},n(d.output),3)):d.isLoading?_("",!0):(r(),i("div",Je,n(h(c)("console.placeholder")),1))])]))}}),Ge={class:"fixed bottom-1/4 right-0 z-50 flex flex-col items-end pointer-events-none"},qe={key:0,class:"animate-pop-in relative right-4 mb-4 mr-8 max-w-xs rounded-[2rem] border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] pointer-events-auto"},Qe={class:"space-y-3 font-sans text-black"},Ze={key:0,class:"space-y-1"},et={class:"text-xs font-black uppercase tracking-wider text-blue-600 block mb-1"},tt={class:"text-sm font-medium leading-relaxed"},st={key:1,class:"space-y-1 pt-3 border-t-2 border-dashed border-gray-200"},ot={class:"text-xs font-black uppercase tracking-wider text-purple-600 block mb-1"},at={class:"text-sm font-medium leading-relaxed"},rt={key:2,class:"space-y-2"},lt={class:"text-sm text-gray-500"},nt={key:0,class:"text-xs text-gray-400 mt-1"},it={key:3,class:"text-xs font-semibold italic text-gray-400 pt-1 border-t border-gray-100"},dt={class:"h-full w-full",style:{transform:"scaleX(-1)"}},ut=["src"],ct={key:0,class:"absolute left-6 top-4 flex h-8 w-8 items-center justify-center rounded-full border-2 border-white bg-red-500 text-sm font-bold text-white shadow-lg animate-bounce"},vt=F({__name:"HintCharacter",props:{failedAttempts:{},hint1:{},hint2:{},state:{}},setup(d){const c=d,{t:v}=K(),m=S(!1),L=p(()=>{switch(c.state){case"checking":return"/images/char_checking.png";case"hint":return"/images/char_hint.png";default:return"/images/char_neutral.png"}}),E=p(()=>!!c.hint1),C=p(()=>!!c.hint2),y=p(()=>c.failedAttempts>=5&&E.value),x=p(()=>c.failedAttempts>=10&&C.value),u=p(()=>Math.max(0,5-c.failedAttempts)),H=p(()=>Math.max(0,10-c.failedAttempts)),R=p(()=>x.value?null:y.value?C.value?v("hint.hint2AvailableIn",{count:H.value}):null:E.value?v("hint.hint1AvailableIn",{count:u.value}):null),g=()=>{m.value=!m.value};return(V,w)=>(r(),i("div",Ge,[m.value?(r(),i("div",qe,[e("div",Qe,[y.value?(r(),i("div",Ze,[e("span",et,n(h(v)("hint.hint1")),1),e("p",tt,n(d.hint1),1)])):_("",!0),x.value?(r(),i("div",st,[e("span",ot,n(h(v)("hint.hint2")),1),e("p",at,n(d.hint2),1)])):_("",!0),!y.value&&!x.value?(r(),i("div",rt,[w[3]||(w[3]=e("p",{class:"text-sm font-bold text-gray-700"}," Masz problem z zadaniem?",-1)),e("p",lt,[w[2]||(w[2]=D(" Po ",-1)),e("strong",null,n(u.value),1),D(" "+n(u.value===1?"bdnej pr贸bie":"bdnych pr贸bach")+" odblokuj pierwsz wskaz贸wk. ",1)]),C.value?(r(),i("p",nt," Dostpna bdzie te偶 druga wskaz贸wka po 10 bdach. ")):_("",!0)])):_("",!0),R.value?(r(),i("p",it,n(R.value),1)):_("",!0)]),w[4]||(w[4]=e("div",{class:"absolute -bottom-3 right-8 h-6 w-6 rotate-45 border-b-2 border-r-2 border-black bg-white"},null,-1))])):_("",!0),e("div",{class:"pointer-events-auto relative -mr-20 transition-transform duration-300 cursor-help",onMouseenter:w[0]||(w[0]=f=>m.value=!0),onMouseleave:w[1]||(w[1]=f=>m.value=!1)},[e("button",{class:"group relative h-56 w-56 focus:outline-none",onClick:g},[e("div",dt,[e("img",{src:L.value,alt:"Assistant",class:"h-full w-full object-contain drop-shadow-xl animate-peek",style:{"transform-origin":"bottom right"}},null,8,ut)]),y.value&&!m.value?(r(),i("span",ct," ! ")):_("",!0)])],32)]))}}),pt=Ce(vt,[["__scopeId","data-v-cec0f315"]]),de="https://judge0-ce.p.rapidapi.com",ue="5af29ad5b5msh36aa46c130a5c53p1bca7cjsnc5e970eec62e",Z=d=>{try{return btoa(unescape(encodeURIComponent(d)))}catch(c){return console.error("Error encoding to Base64:",c),""}},X=d=>{if(!d)return null;try{return decodeURIComponent(escape(atob(d)))}catch(c){return console.error("Error decoding from Base64:",c),d}},mt=async d=>{const c={...d,source_code:Z(d.source_code),stdin:d.stdin?Z(d.stdin):void 0,expected_output:d.expected_output?Z(d.expected_output):void 0},v=await fetch(`${de}/submissions?base64_encoded=true&fields=*`,{method:"POST",headers:{"content-type":"application/json","Content-Type":"application/json","X-RapidAPI-Key":ue,"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com"},body:JSON.stringify(c)});if(!v.ok){const L=await v.text();throw new Error(`Failed to create submission: ${v.status} ${v.statusText} - ${L}`)}return(await v.json()).token},ft=async d=>{const c=await fetch(`${de}/submissions/${d}?base64_encoded=true&fields=*`,{method:"GET",headers:{"X-RapidAPI-Key":ue,"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com"}});if(!c.ok)throw new Error("Failed to get submission");const v=await c.json();return{...v,stdout:X(v.stdout),stderr:X(v.stderr),compile_output:X(v.compile_output),message:X(v.message)}},xt={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},ht={class:"mx-auto grid w-full max-w-[1600px] flex-1 grid-cols-1 gap-6 px-6 py-8 lg:grid-cols-[350px_1fr]"},gt={class:"flex flex-col gap-6 lg:order-first"},bt={class:"rounded-2xl border border-strokePrimary/30 bg-card p-6"},yt={class:"mb-6"},_t={class:"text-lg font-bold text-textWhite"},wt={class:"flex flex-col gap-2"},kt=["disabled","onClick"],St={class:"flex items-center gap-3"},Ct={key:1},$t={class:"text-sm font-medium line-clamp-1"},Pt={class:"flex flex-col gap-6"},It={key:0,class:"flex flex-col gap-6 rounded-2xl border border-strokePrimary/30 bg-card p-6 shadow-2xl shadow-black/20 h-full"},jt={key:0,class:"flex flex-col h-full relative"},Lt={class:"mb-8 space-y-6"},Et={class:"flex items-start justify-between gap-4 border-b border-strokePrimary/20 pb-6"},Ot={class:"text-3xl font-bold text-textWhite mb-2"},At={class:"text-textSecondary"},zt={class:"prose prose-invert max-w-none text-textSecondary text-lg leading-relaxed"},Tt={key:0,class:"whitespace-pre-line mb-4"},Dt={key:1,class:"my-6 rounded-lg bg-[#111111] border border-strokePrimary/30 overflow-hidden shadow-lg"},Rt={class:"flex items-center justify-between px-4 py-2 bg-[#1a1a1a] border-b border-strokePrimary/20"},Bt={class:"text-xs font-mono text-blue-400 font-bold uppercase"},Ht={class:"p-4 overflow-x-auto text-sm font-mono text-gray-300 leading-relaxed"},Vt={class:"mt-auto flex justify-end border-t border-strokePrimary/20 pt-8"},Mt={class:"flex items-center gap-4"},Nt=["disabled"],Wt={key:1,class:"flex flex-col h-full gap-6"},Ft={class:"mb-4 space-y-4"},Kt={class:"flex items-start justify-between gap-4"},Ut={class:"text-2xl font-bold text-textWhite"},Xt={class:"prose prose-invert max-w-none text-textSecondary"},Jt={key:0,class:"whitespace-pre-line mb-4"},Yt={key:1,class:"my-4 rounded-lg bg-[#111111] border border-strokePrimary/30 overflow-hidden"},Gt={class:"px-4 py-2 bg-[#1a1a1a] text-xs text-blue-400 font-mono border-b border-strokePrimary/20 uppercase font-bold"},qt={class:"p-4 overflow-x-auto text-sm font-mono text-gray-300"},Qt={class:"flex items-center justify-between"},Zt={class:"text-lg font-bold text-textWhite"},es={class:"flex items-center gap-4"},ts=["disabled"],ss={key:1,class:"text-xs font-semibold text-red-500 max-w-[200px] leading-tight"},os={key:2,class:"flex items-center gap-4"},as={class:"text-emerald-400 font-bold flex items-center gap-2"},rs={class:"grid flex-1 grid-cols-1 gap-6 lg:grid-cols-2 min-h-[500px]"},ls={class:"flex items-center justify-between border-t border-strokePrimary/20 pt-6"},ns=["disabled"],is={key:1,class:"flex h-64 items-center justify-center rounded-2xl border border-dashed border-strokePrimary/30 text-textSecondary"},bs=F({__name:"LessonPage",setup(d){const c=ye(),v=we(),{dashboardData:m,isDashboardLoading:L,loadDashboardData:E}=Ie(),{profileData:C,loadProfileData:y,markLessonAsCompleted:x}=Le(),{t:u,currentLanguage:H}=K(),{isLoggedIn:R}=$e(),g=p(()=>c.params.courseId),V=p(()=>Number(c.params.lessonOrder)),w=S(null),f=S(""),k=S(null),O=S(!1),I=S(""),$=S(!1),P=S(!1),A=S(0),j=S([]),te=async()=>{try{const t=await je(g.value,H.value);t&&(w.value=t)}catch(t){console.error("Error loading course details on LessonPage:",t)}};_e(async()=>{E(),y(),await te()});const se=p(()=>w.value||m.value?.courses.find(t=>t.id===g.value));le(H,()=>{te()});const ce=p(()=>o.value?.order===0),ve=p(()=>O.value?"checking":A.value>=5?"hint":"idle"),pe=p(()=>m.value?.navLinks??[]),M=p(()=>C.value?.courseProgress.find(t=>t.courseId===g.value)),z=p(()=>{const t=se.value?.lessons??[],a=M.value;return a?t.map((s,l)=>{const b=s.id.toString(),B=a.completedLessonIds.includes(b),be=l===0||B||l>0&&a.completedLessonIds.includes(t[l-1].id.toString());let G="locked";return B?G="completed":be&&(G="available"),{...s,status:G,isCompleted:B,isActive:s.order===V.value}}):t.map(s=>{const l=j.value.includes(s.id.toString());return{...s,status:l?"completed":"available",isCompleted:l,isActive:s.order===V.value}})}),o=p(()=>z.value.find(t=>t.order===V.value));le(o,t=>{k.value=null,I.value="",$.value=!1,O.value=!1,A.value=0,P.value=t?.isCompleted||!1;const a=M.value?.savedCode?.[t?.id.toString()??""];a?f.value=a:t?.initialCode?f.value=t.initialCode:f.value=""},{immediate:!0});const J=p(()=>{const t=z.value.findIndex(a=>a.order===V.value);return t===-1||t===z.value.length-1?null:z.value[t+1]}),N=p(()=>{const t=z.value.findIndex(a=>a.order===V.value);return t<=0?null:z.value[t-1]}),Y=t=>{const a=Number(t);z.value.find(l=>l.order===a)?.status!=="locked"&&v.push({name:"lesson",params:{courseId:g.value,lessonOrder:a}})},me=async t=>{let s=0;for(;s<10;)try{const l=await ft(t);if(l.status.id<=2){await new Promise(b=>setTimeout(b,1e3)),s++;continue}l.status.id===3?(I.value=l.stdout||u("lesson.noOutput"),$.value=!1,o.value?.expectedOutput?l.stdout?.trim()===o.value.expectedOutput.trim()?(k.value=null,P.value=!0):(k.value=`Expected: "${o.value.expectedOutput.trim()}", got: "${l.stdout?.trim()}"`,$.value=!0,A.value++):P.value=!0):(I.value=Se(l.stderr||l.compile_output||l.message||u("lesson.executionError"),u),$.value=!0,k.value=u("lesson.executionError"),A.value++);return}catch(l){console.error(l),I.value=u("lesson.apiError"),$.value=!0,k.value=u("lesson.connectionError");return}I.value=u("lesson.timeoutError"),$.value=!0},fe=async t=>new Promise(a=>{const s=[],l=console.log;console.log=(...b)=>{s.push(b.map(B=>typeof B=="object"?JSON.stringify(B,null,2):String(B)).join(" "))};try{const b=`
        try {
          ${t}
        } catch (err) {
          throw err;
        }
      `;new Function(b)(),a({stdout:s.join(`
`),error:null})}catch(b){a({stdout:s.join(`
`),error:b.message||String(b)})}finally{console.log=l}}),oe=t=>t.toLowerCase().replace(/\s+/g," ").trim(),xe=async()=>{if(k.value=null,$.value=!1,P.value=!1,o.value?.judge0LanguageId){O.value=!0,I.value="";try{if(o.value.judge0LanguageId===63){const t=f.value+`
`+(o.value.testCode||""),a=await fe(t);if(I.value=a.stdout||u("lesson.noOutput"),a.error)$.value=!0,I.value+=`

Error: ${a.error}`,k.value=u("lesson.executionError"),A.value++;else if(o.value.expectedOutput){const s=oe(o.value.expectedOutput),l=oe(a.stdout);l.includes(s)||l===s?(P.value=!0,k.value=null,g.value&&o.value&&f.value&&x(g.value,o.value.id.toString(),void 0,f.value)):(k.value=`Oczekiwano wyniku: "${o.value.expectedOutput.trim()}"`,$.value=!0,A.value++)}else P.value=!0,g.value&&o.value&&f.value&&(M.value?x(g.value,o.value.id.toString(),void 0,f.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()))}else{const t=f.value+`
`+(o.value.testCode||""),a=await mt({source_code:t,language_id:o.value.judge0LanguageId,expected_output:o.value.expectedOutput});await me(a),P.value&&g.value&&o.value&&f.value&&(M.value?x(g.value,o.value.id.toString(),void 0,f.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()))}}catch(t){console.error(t),k.value=u("lesson.submitError")}finally{O.value=!1}return}if(o.value?.validationRegex){let t=o.value.validationRegex,a="";const s=t.match(/^\/(.+)\/([gimsuy]*)$/);if(s&&(t=s[1],a=s[2]),!new RegExp(t,a).test(f.value)){k.value=u("lesson.incorrectSolution"),A.value++;return}}P.value=!0,g.value&&o.value&&f.value&&(R.value&&o.value.exerciseId&&Pe.post(`/api/exercises/${o.value.exerciseId}/submit`,{code:f.value}).catch(()=>{}),M.value?x(g.value,o.value.id.toString(),void 0,f.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()))},ae=()=>{o.value&&(M.value?x(g.value,o.value.id.toString(),J.value?.id.toString(),f.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()),J.value?v.push({name:"lesson",params:{courseId:g.value,lessonOrder:J.value.order}}):v.push({name:"course-detail",params:{courseId:g.value}}))},he=()=>{v.push({name:"course-detail",params:{courseId:g.value}})},ge=t=>{switch(t){case"completed":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"current":return"bg-textPrimary/20 text-textPrimary border-textPrimary/50";case"available":return"bg-cardHover text-textWhite border-strokePrimary/30 hover:border-textPrimary/50";default:return"bg-cardDarker text-textSecondary border-transparent opacity-50"}},re=p(()=>{const t=o.value?.taskContent||o.value?.content||u("lesson.noTaskDescription")||"",a=[],s=/```(\w+)?\n([\s\S]*?)```/g;let l=0,b;for(;(b=s.exec(t))!==null;)b.index>l&&a.push({type:"text",content:t.slice(l,b.index)}),a.push({type:"code",language:b[1]||"text",content:b[2].trim()}),l=s.lastIndex;return l<t.length&&a.push({type:"text",content:t.slice(l)}),a});return(t,a)=>(r(),i(U,null,[e("div",xt,[T(ke,{"nav-links":pe.value},null,8,["nav-links"]),e("main",ht,[e("aside",gt,[e("div",bt,[e("div",yt,[e("button",{class:"mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-textSecondary transition hover:text-textPrimary",onClick:he},[T(Q,{class:"h-4 w-4"}),D(" "+n(h(u)("lesson.backToCourse")),1)]),e("h2",_t,n(se.value?.title),1),a[3]||(a[3]=e("div",{class:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-cardHover"},[e("div",{class:"h-full bg-textPrimary",style:{width:"45%"}})],-1))]),e("div",wt,[(r(!0),i(U,null,q(z.value,(s,l)=>(r(),i("button",{key:s.id,class:ee(["flex w-full items-center justify-between rounded-xl border p-3 text-left transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary",[ge(s.status),s.isActive?"ring-2 ring-textPrimary border-textPrimary/50 shadow-[0_0_15px_rgba(59,130,246,0.2)]":""]]),disabled:s.status==="locked",onClick:b=>Y(s.order??l)},[e("div",St,[e("div",{class:ee(["flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-bold",s.status==="completed"?"bg-emerald-500 text-bgPrimary":"bg-cardHover"])},[s.status==="completed"?(r(),W(ne,{key:0,class:"h-3.5 w-3.5"})):(r(),i("span",Ct,n(s.order??l),1))],2),e("span",$t,n(s.title),1)]),s.status==="locked"?(r(),W(Ee,{key:0,class:"h-4 w-4 shrink-0 opacity-50"})):_("",!0)],10,kt))),128))])])]),e("section",Pt,[o.value?(r(),i("div",It,[ce.value?(r(),i("div",jt,[e("div",Lt,[e("div",Et,[e("div",null,[e("h1",Ot,n(o.value.title),1),e("p",At,n(h(u)("lesson.informational")||"Lesson Informational"),1)])]),e("div",zt,[(r(!0),i(U,null,q(re.value,(s,l)=>(r(),i("div",{key:l},[s.type==="text"?(r(),i("p",Tt,n(s.content),1)):(r(),i("div",Dt,[e("div",Rt,[e("span",Bt,n(s.language),1),a[4]||(a[4]=e("div",{class:"flex gap-1.5"},[e("div",{class:"w-2.5 h-2.5 rounded-full bg-red-500/20"}),e("div",{class:"w-2.5 h-2.5 rounded-full bg-yellow-500/20"}),e("div",{class:"w-2.5 h-2.5 rounded-full bg-green-500/20"})],-1))]),e("pre",Ht,[e("code",null,n(s.content),1)])]))]))),128))])]),e("div",Vt,[e("div",Mt,[e("button",{class:"flex items-center gap-2 rounded-full border border-strokePrimary/40 px-6 py-3 text-sm font-semibold text-textSecondary transition hover:bg-cardHover hover:text-textWhite disabled:opacity-50",disabled:!N.value,onClick:a[0]||(a[0]=s=>N.value&&Y(N.value.order??0))},[T(Q,{class:"h-4 w-4"}),D(" "+n(h(u)("lesson.previous")),1)],8,Nt),e("button",{class:"flex items-center gap-2 rounded-full bg-emerald-600 px-8 py-3 text-base font-bold text-white transition hover:bg-emerald-700 hover:scale-105 active:scale-95 shadow-lg shadow-emerald-600/20",onClick:ae},[D(n(h(u)("lesson.next"))+" ",1),T(ie,{class:"h-5 w-5"})])])])])):(r(),i("div",Wt,[e("div",Ft,[e("div",Kt,[e("h1",Ut,n(o.value.title),1)]),e("div",Xt,[(r(!0),i(U,null,q(re.value,(s,l)=>(r(),i("div",{key:l},[s.type==="text"?(r(),i("p",Jt,n(s.content),1)):(r(),i("div",Yt,[e("div",Gt,n(s.language),1),e("pre",qt,[e("code",null,n(s.content),1)])]))]))),128))])]),e("div",Qt,[e("h2",Zt,n(h(u)("lesson.editorLabel")),1),e("div",es,[P.value?_("",!0):(r(),i("button",{key:0,class:"flex items-center gap-2 rounded-full bg-blue-600 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:opacity-70 disabled:cursor-not-allowed",disabled:O.value,onClick:xe},[O.value?(r(),W(Oe,{key:0,class:"h-4 w-4 animate-spin"})):_("",!0),e("span",null,n(O.value?h(u)("lesson.checking"):h(u)("lesson.check")),1)],8,ts)),k.value?(r(),i("span",ss,n(k.value),1)):_("",!0),P.value?(r(),i("div",os,[e("span",as,[T(ne,{class:"w-5 h-5"}),D(" "+n(h(u)("lesson.correct")),1)]),e("button",{class:"flex items-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-emerald-700",onClick:ae},[D(n(h(u)("lesson.next"))+" ",1),T(ie,{class:"h-4 w-4"})])])):_("",!0)])]),e("div",rs,[T(Re,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=s=>f.value=s),language:o.value.editorLabel||(o.value.judge0LanguageId?"JS/Code":"CSS/HTML")},null,8,["modelValue","language"]),o.value.judge0LanguageId?(r(),W(Ye,{key:0,output:I.value,"is-error":$.value,"is-loading":O.value},null,8,["output","is-error","is-loading"])):(r(),W(Ne,{key:1,code:f.value,"preview-type":o.value.previewType||"css"},null,8,["code","preview-type"]))]),e("div",ls,[e("button",{class:"flex items-center gap-2 rounded-full border border-strokePrimary/40 px-5 py-2.5 text-sm font-semibold text-textSecondary transition hover:bg-cardHover hover:text-textWhite disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-textSecondary",disabled:!N.value,onClick:a[2]||(a[2]=s=>N.value&&Y(N.value.order??0))},[T(Q,{class:"h-4 w-4"}),D(" "+n(h(u)("lesson.previous")),1)],8,ns)])]))])):(r(),i("div",is,n(h(u)("lesson.selectLesson")),1))])])]),o.value?(r(),W(pt,{key:0,"failed-attempts":A.value,hint1:o.value.hint,hint2:o.value.hint2,state:ve.value},null,8,["failed-attempts","hint1","hint2","state"])):_("",!0)],64))}});export{bs as default};
