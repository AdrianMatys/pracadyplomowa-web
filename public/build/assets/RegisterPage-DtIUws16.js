import{d as q,r as l,e as E,a as g,g as _,b as e,i as s,t as r,q as N,m as w,s as v,v as P,y as k,f as u,p as y,w as T,x as U,u as $,o as n}from"./vendor-lIf_UB2E.js";import{a as j}from"./MainHeader.vue_vue_type_script_setup_true_lang-BKi87J7A.js";import{a as A,u as F}from"./main-CyjH2vMn.js";import{u as O}from"./useDashboardData-BnW-B8ai.js";import{u as z}from"./useRecaptcha-C-7uMv4J.js";import{I as G}from"./IconSpinner-C1VwNeHC.js";import{I as S,a as L}from"./IconEyeOff-DPwDVFl0.js";import"./axios-B9ygI19o.js";const H={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},J={class:"flex flex-1 items-center justify-center px-6 py-10"},K={class:"w-full max-w-md space-y-8 rounded-2xl border border-strokePrimary/30 bg-card p-8 shadow-2xl shadow-black/20"},Q={class:"text-center"},X={class:"text-3xl font-bold text-textWhite"},Y={class:"mt-2 text-sm text-textSecondary"},Z={class:"space-y-2"},ee={for:"name",class:"text-sm font-semibold text-textWhite"},te=["placeholder"],se={class:"space-y-2"},oe={for:"email",class:"text-sm font-semibold text-textWhite"},re=["placeholder"],ae={class:"space-y-2"},le={for:"password",class:"text-sm font-semibold text-textWhite"},ie={class:"relative"},ne=["type","placeholder"],de={class:"space-y-2"},ce={for:"confirmPassword",class:"text-sm font-semibold text-textWhite"},ue={class:"relative"},me=["type","placeholder"],xe={key:0,class:"rounded-lg bg-red-500/10 p-3 text-sm text-red-400"},pe=["disabled"],fe={class:"text-center text-sm text-textSecondary"},Se=q({__name:"RegisterPage",setup(he){const W=$(),{register:V}=A(),{dashboardData:B}=O(),{t}=F(),{getToken:C,loadScript:D}=z(),m=l(""),x=l(""),d=l(""),p=l(""),f=l(!1),h=l(!1),c=l(!1),i=l(""),I=B.value?.navLinks??[];E(()=>{D()});const M=async()=>{if(!m.value||!x.value||!d.value||!p.value){i.value=t("register.errorEmptyFields");return}if(d.value!==p.value){i.value=t("register.errorPasswordMismatch");return}if(d.value.length<8){i.value=t("register.errorPasswordLength");return}c.value=!0,i.value="";try{const b=await C("register");await V({name:m.value,email:x.value,password:d.value,recaptcha_token:b}),W.push({name:"profile"})}catch{i.value=t("common.error")}finally{c.value=!1}};return(b,o)=>{const R=U("RouterLink");return n(),g("div",H,[_(j,{"nav-links":s(I)},null,8,["nav-links"]),e("main",J,[e("div",K,[e("div",Q,[e("h1",X,r(s(t)("register.title")),1),e("p",Y,r(s(t)("register.subtitle")),1)]),e("form",{class:"space-y-5",onSubmit:N(M,["prevent"])},[e("div",Z,[e("label",ee,r(s(t)("register.nameLabel")),1),v(e("input",{id:"name","onUpdate:modelValue":o[0]||(o[0]=a=>m.value=a),type:"text",required:"",class:"w-full rounded-xl border border-strokePrimary/40 bg-inputBg px-4 py-3 text-sm text-textWhite placeholder:text-textSecondary focus:border-textPrimary focus:outline-none focus:ring-1 focus:ring-textPrimary",placeholder:s(t)("register.namePlaceholder")},null,8,te),[[P,m.value]])]),e("div",se,[e("label",oe,r(s(t)("register.emailLabel")),1),v(e("input",{id:"email","onUpdate:modelValue":o[1]||(o[1]=a=>x.value=a),type:"email",required:"",class:"w-full rounded-xl border border-strokePrimary/40 bg-inputBg px-4 py-3 text-sm text-textWhite placeholder:text-textSecondary focus:border-textPrimary focus:outline-none focus:ring-1 focus:ring-textPrimary",placeholder:s(t)("register.emailPlaceholder")},null,8,re),[[P,x.value]])]),e("div",ae,[e("label",le,r(s(t)("register.passwordLabel")),1),e("div",ie,[v(e("input",{id:"password","onUpdate:modelValue":o[2]||(o[2]=a=>d.value=a),type:f.value?"text":"password",required:"",minlength:"8",class:"w-full rounded-xl border border-strokePrimary/40 bg-inputBg px-4 py-3 pr-12 text-sm text-textWhite placeholder:text-textSecondary focus:border-textPrimary focus:outline-none focus:ring-1 focus:ring-textPrimary",placeholder:s(t)("register.passwordPlaceholder")},null,8,ne),[[k,d.value]]),e("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-textSecondary hover:text-textWhite focus:outline-none",onClick:o[3]||(o[3]=a=>f.value=!f.value)},[f.value?(n(),u(S,{key:0,class:"h-5 w-5"})):(n(),u(L,{key:1,class:"h-5 w-5"}))])])]),e("div",de,[e("label",ce,r(s(t)("register.confirmPasswordLabel")),1),e("div",ue,[v(e("input",{id:"confirmPassword","onUpdate:modelValue":o[4]||(o[4]=a=>p.value=a),type:h.value?"text":"password",required:"",class:"w-full rounded-xl border border-strokePrimary/40 bg-inputBg px-4 py-3 pr-12 text-sm text-textWhite placeholder:text-textSecondary focus:border-textPrimary focus:outline-none focus:ring-1 focus:ring-textPrimary",placeholder:s(t)("register.confirmPasswordPlaceholder")},null,8,me),[[k,p.value]]),e("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-textSecondary hover:text-textWhite focus:outline-none",onClick:o[5]||(o[5]=a=>h.value=!h.value)},[h.value?(n(),u(S,{key:0,class:"h-5 w-5"})):(n(),u(L,{key:1,class:"h-5 w-5"}))])])]),i.value?(n(),g("div",xe,r(i.value),1)):w("",!0),e("button",{type:"submit",class:"flex w-full items-center justify-center gap-2 rounded-full bg-textPrimary px-6 py-3 text-sm font-semibold text-bgPrimary transition hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary disabled:cursor-not-allowed disabled:opacity-70",disabled:c.value},[c.value?(n(),u(G,{key:0,class:"h-5 w-5 animate-spin text-bgPrimary"})):w("",!0),y(" "+r(c.value?s(t)("register.submitting"):s(t)("register.submitButton")),1)],8,pe)],32),e("div",fe,[y(r(s(t)("register.hasAccount"))+" ",1),_(R,{to:{name:"login"},class:"font-semibold text-textPrimary hover:underline"},{default:T(()=>[y(r(s(t)("register.loginLink")),1)]),_:1})])])])])}}});export{Se as default};
