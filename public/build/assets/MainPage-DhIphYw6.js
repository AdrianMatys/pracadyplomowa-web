import{d as f,a as l,b as e,t as o,i as n,F as w,h as $,o as s,m as N,n as D,f as S,g as _,r as G,c as y,e as R,p as Z,u as E}from"./vendor-BOwXO-1K.js";import{_ as J,a as U}from"./MainHeader.vue_vue_type_script_setup_true_lang-CaPHAqjJ.js";import{u as P,I as W,a as q}from"./main-C3y6mfnZ.js";import{u as K}from"./useDashboardData-WF0fewD0.js";import{I as Q}from"./IconArrowRight-B_d78JhK.js";import{u as X}from"./useProfileData-D1D9iQo9.js";import"./axios-B9ygI19o.js";const Y={class:"w-full rounded-2xl border border-strokePrimary/30 bg-cardHover px-6 py-8 h-fit"},ee={class:"mb-6 text-lg font-bold text-textPrimary"},te={class:"flex flex-col gap-8"},se={key:0,class:"mb-6 h-px w-full bg-strokePrimary/30"},oe={class:"mb-4 text-sm font-bold text-textWhite"},re={class:"flex flex-col gap-3"},ne=["onClick"],le={class:"text-sm font-bold text-textWhite transition-colors group-hover:text-textWhite/80"},ae=f({__name:"FiltersPanel",props:{sections:{},selected:{}},emits:["toggle"],setup(i,{emit:u}){const t=i,r=u,{t:c}=P(),g=x=>{r("toggle",x)},a=x=>t.selected.includes(x);return(x,b)=>(s(),l("section",Y,[e("h2",ee,o(n(c)("filters.title")),1),e("div",te,[(s(!0),l(w,null,$(t.sections,(v,z)=>(s(),l("div",{key:v.id,class:"flex flex-col"},[z>0?(s(),l("div",se)):N("",!0),e("h3",oe,o(n(c)(v.title)||v.title),1),e("div",re,[(s(!0),l(w,null,$(v.options,h=>(s(),l("button",{key:h.id,class:"group flex items-center gap-3 text-left focus-visible:outline-none",onClick:I=>g(h.id)},[e("div",{class:D(["flex h-5 w-5 shrink-0 items-center justify-center rounded-[4px] border transition-colors",a(h.id)?"bg-textSecondary border-textSecondary":"border-textSecondary/60 bg-transparent group-hover:border-textSecondary"])},[a(h.id)?(s(),S(W,{key:0,class:"h-3.5 w-3.5 text-cardHover"})):N("",!0)],2),e("span",le,o(h.label.includes(".")&&n(c)(h.label)||h.label),1)],8,ne))),128))])]))),128))])]))}}),ie={class:"relative overflow-hidden rounded-3xl border border-strokePrimary/50 bg-bgPrimary p-8 shadow-[0_0_40px_-10px_rgba(2,178,208,0.1)]"},ce={class:"relative z-10"},de={key:0,class:"space-y-4 text-center md:text-left"},ue={class:"text-2xl font-bold text-textPrimary md:text-3xl"},xe={class:"max-w-2xl text-sm leading-relaxed text-textWhite/80"},me={key:1},he={class:"text-xl font-bold text-textPrimary md:text-2xl"},ge={class:"mt-3 max-w-3xl text-sm leading-relaxed text-textWhite"},be={class:"mt-6"},pe={class:"mb-3 text-xs font-bold text-textPrimary uppercase tracking-wide"},_e={class:"flex flex-wrap gap-3"},fe={class:"text-xs text-textPrimary"},ve={class:"text-xs font-bold text-textWhite"},ye=f({__name:"WelcomeBanner",props:{stats:{},isLoggedIn:{type:Boolean},userLevel:{}},emits:["primary","secondary","login"],setup(i){const u=i,{t}=P();return(r,c)=>(s(),l("div",ie,[c[1]||(c[1]=e("div",{class:"absolute top-0 right-0 -mr-20 -mt-20 h-64 w-64 rounded-full bg-textPrimary/5 blur-[100px]"},null,-1)),e("div",ce,[i.isLoggedIn?(s(),l("div",me,[e("h1",he,o(n(t)("banner.welcome"))+" "+o(i.userLevel)+" - "+o(n(t)("banner.developerWord"))+"!",1),e("p",ge,o(n(t)("banner.description")),1),e("div",be,[e("p",pe,o(n(t)("banner.available")),1),e("div",_e,[(s(!0),l(w,null,$(u.stats,(g,a)=>(s(),l("div",{key:a,class:"flex items-center gap-2 rounded bg-cardHover px-4 py-2 border border-strokePrimary/30"},[e("span",fe,o(g.label),1),e("span",ve,o(g.value),1)]))),128))])])])):(s(),l("div",de,[e("h1",ue,o(n(t)("banner.guestTitle")||"DoÅ‚Ä…cz do nas!"),1),e("p",xe,o(n(t)("banner.guestDescription")||"Zaloguj siÄ™, aby uzyskaÄ‡ dostÄ™p do kursÃ³w i Å›ledziÄ‡ swoje postÄ™py."),1),e("button",{class:"mt-4 inline-flex items-center justify-center rounded-xl bg-textPrimary px-6 py-3 text-sm font-bold text-bgPrimary transition hover:bg-textPrimary/90 focus:outline-none focus:ring-2 focus:ring-textPrimary focus:ring-offset-2 focus:ring-offset-bgPrimary",onClick:c[0]||(c[0]=g=>r.$emit("login"))},o(n(t)("auth.login")||"Zaloguj siÄ™"),1)]))])]))}}),ke=["width","height"],we=f({__name:"IconClock",props:{size:{},color:{}},setup(i){return(u,t)=>(s(),l("svg",{width:i.size||"24",height:i.size||"24",class:D(i.color||"text-current"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...t[0]||(t[0]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("polyline",{points:"12 6 12 12 16 14"},null,-1)])],10,ke))}}),$e=["width","height"],Pe=f({__name:"IconMedal",props:{size:{},color:{}},setup(i){return(u,t)=>(s(),l("svg",{width:i.size||"24",height:i.size||"24",class:D(i.color||"text-current"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...t[0]||(t[0]=[e("circle",{cx:"12",cy:"8",r:"6"},null,-1),e("path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"},null,-1)])],10,$e))}}),Ce=["aria-label"],Le={class:"relative h-44 w-full overflow-hidden bg-bgSecondary"},Se=["src","alt"],De={key:1,class:"flex h-full w-full items-center justify-center text-6xl text-textSecondary/50 bg-gradient-to-br from-bgSecondary to-bgPrimary"},ze={class:"flex flex-1 flex-col gap-4 p-5"},Ie={class:"text-xl font-bold text-textWhite leading-tight group-hover:text-cyan-400 transition-colors line-clamp-2"},Te={class:"text-sm text-textSecondary line-clamp-2 leading-relaxed"},Be={class:"flex flex-wrap gap-2"},Ne={class:"grid grid-cols-2 gap-y-2 pt-3 mt-auto border-t border-strokePrimary/20 text-sm text-textSecondary"},We={class:"flex items-center gap-1.5"},je={class:"flex items-center gap-1.5"},Fe={class:"flex items-center gap-1.5"},Ae={class:"flex items-center gap-1.5"},Me=f({__name:"CourseCard",props:{course:{}},emits:["open"],setup(i,{emit:u}){const{t}=P(),r=i,c=u,g=a=>{switch(a.toLowerCase()){case"junior":return"bg-emerald-500/20 text-emerald-400 border-emerald-400/40";case"mid":return"bg-amber-500/20 text-amber-400 border-amber-400/40";case"senior":return"bg-red-500/20 text-red-400 border-red-400/40";default:return"bg-emerald-500/20 text-emerald-400 border-emerald-400/40"}};return(a,x)=>(s(),l("article",{class:"group flex flex-col overflow-hidden rounded-2xl border border-strokePrimary/30 bg-card transition-all duration-300 hover:border-cyan-400/50 hover:shadow-xl hover:shadow-cyan-400/10 cursor-pointer","aria-label":n(t)("course.showDetails"),onClick:x[0]||(x[0]=b=>c("open",r.course.id))},[e("div",Le,[r.course.image_path?(s(),l("img",{key:0,src:r.course.image_path,alt:r.course.title,loading:"lazy",decoding:"async",class:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,Se)):(s(),l("div",De,"ðŸ“š"))]),e("div",ze,[e("h3",Ie,o(r.course.title),1),e("p",Te,o(r.course.subtitle||r.course.description),1),e("div",Be,[(s(!0),l(w,null,$(r.course.tags?.slice(0,2),b=>(s(),l("span",{key:b,class:"px-3 py-1.5 bg-cyan-500/15 text-cyan-400 border border-cyan-400/30 rounded-full text-xs font-semibold"},o(b),1))),128))]),e("div",null,[e("span",{class:D(["inline-block px-3 py-1.5 rounded-full text-xs font-semibold border lowercase",g(r.course.level)])},o(r.course.level),3)]),e("div",Ne,[e("div",We,[_(Pe,{class:"w-4 h-4"}),e("span",null,o(r.course.reward)+" PD",1)]),e("div",je,[_(W,{class:"w-4 h-4"}),e("span",null,o(r.course.tasks)+" "+o(n(t)("course.lessonsLabel")),1)]),e("div",Fe,[_(we,{class:"w-4 h-4"}),e("span",null,o(r.course.duration),1)]),e("div",Ae,[_(J,{class:"w-4 h-4"}),e("span",null,o(r.course.enrolledCount??0)+" osÃ³b na kursie",1)])])])],8,Ce))}}),Ve={class:"space-y-5"},Oe={class:"text-lg font-semibold"},He={class:"grid gap-5 sm:grid-cols-2 lg:grid-cols-4"},Ge=f({__name:"CoursesGrid",props:{courses:{}},emits:["open"],setup(i,{emit:u}){const{t}=P(),r=i,c=u;return(g,a)=>(s(),l("div",Ve,[e("h2",Oe,o(n(t)("courses.title")),1),e("div",He,[(s(!0),l(w,null,$(r.courses,x=>(s(),S(Me,{key:x.id,course:x,onOpen:a[0]||(a[0]=b=>c("open",b))},null,8,["course"]))),128))])]))}}),Re={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},Ze={class:"flex w-full flex-1 flex-col gap-8 px-6 py-10 md:flex-row"},Ee={class:"md:w-72 lg:w-80 flex-shrink-0 self-stretch"},Je={class:"flex flex-col gap-6 md:sticky md:top-0"},Ue=["aria-label"],qe={key:1,class:"rounded-2xl border border-dashed border-strokePrimary/40 bg-[#111b2c] p-4 text-sm text-textSecondary"},Ke={class:"min-w-0 flex-1 space-y-8"},Qe={key:1,class:"rounded-2xl border border-dashed border-strokePrimary/40 bg-[#111b2c] p-6 text-center text-sm text-textSecondary"},nt=f({__name:"MainPage",setup(i){const u=E(),t=G([]),{dashboardData:r,isDashboardLoading:c,loadDashboardData:g}=K(),{t:a}=P(),{isLoggedIn:x}=q(),{profileData:b,loadProfileData:v}=X(),z=y(()=>b.value?.summary?b.value.summary.level||"Junior":"UÅ¼ytkowniku"),h=d=>{if(d==null)return 0;const m=String(d),p=parseInt(m.replace(/[^0-9]/g,"")||"0",10);return Number.isNaN(p)?0:p};R(()=>{g(),x.value&&v()});const I=y(()=>r.value?.navLinks??[]),T=y(()=>r.value?.filterSections??[]),C=y(()=>r.value?.courses??[]),j=y(()=>{const d=C.value.length,m=C.value.reduce((L,k)=>L+h(k.tasks),0),p=C.value.reduce((L,k)=>L+h(k.reward),0);return[{label:a("banner.coursesCount"),value:`${d}`},{label:a("banner.tasksCount"),value:`${m}`},{label:a("banner.pointsTotal"),value:`${p}`}]}),B=y(()=>{const d=C.value;return t.value.length===0?d:d.filter(m=>{const p=t.value.includes(m.level.toLowerCase()),k=(m.tags||[]).some(H=>t.value.includes(H.toLowerCase()));return p||k})}),F=d=>{const m=t.value.indexOf(d);m===-1?t.value.push(d):t.value.splice(m,1)},A=()=>{},M=()=>{},V=d=>{u.push({name:"course-detail",params:{courseId:d}})},O=()=>{u.push({name:"news"})};return(d,m)=>(s(),l("div",Re,[_(U,{"nav-links":I.value},null,8,["nav-links"]),e("main",Ze,[e("aside",Ee,[e("div",Je,[e("button",{class:"flex w-full items-center justify-center gap-2 rounded-2xl border border-textPrimary/60 px-4 py-3 text-sm font-semibold text-textPrimary transition hover:bg-textPrimary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary","aria-label":n(a)("main.newsAndArticles"),tabindex:"0",onClick:O},[Z(o(n(a)("main.newsAndArticles"))+" ",1),_(Q,{class:"h-4 w-4"})],8,Ue),T.value.length?(s(),S(ae,{key:0,sections:T.value,selected:t.value,onToggle:F},null,8,["sections","selected"])):(s(),l("p",qe,o(n(c)?n(a)("main.loadingFilters"):n(a)("main.noFilters")),1))])]),e("section",Ke,[_(ye,{stats:j.value,"is-logged-in":n(x),"user-level":z.value,onPrimary:A,onSecondary:M,onLogin:m[0]||(m[0]=p=>n(u).push({name:"login"}))},null,8,["stats","is-logged-in","user-level"]),B.value.length?(s(),S(Ge,{key:0,courses:B.value,onOpen:V},null,8,["courses"])):(s(),l("p",Qe,o(n(c)?n(a)("main.loadingCourses"):n(a)("main.noCoursesMatch")),1))])])]))}});export{nt as default};
