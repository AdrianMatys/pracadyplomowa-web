import{d as W,r as S,a as i,b as e,t as n,i as x,o as l,c as m,m as w,n as ee,p as z,z as ye,e as _e,B as le,f as N,g as T,F as U,h as q,u as we}from"./vendor-lIf_UB2E.js";import{a as ke,f as Se}from"./MainHeader.vue_vue_type_script_setup_true_lang-Brchc_ys.js";import{u as F,_ as Ce,a as $e,I as ne,b as Pe}from"./main-I4fwh5Br.js";import{u as Ie,f as je}from"./useDashboardData-BJuXQkcW.js";import{u as Le}from"./useProfileData-DM4N9YaV.js";import{I as Q}from"./IconArrowLeft-CalCZR6E.js";import{I as ie}from"./IconArrowRight-Cl6WARvU.js";import{I as Ee}from"./IconLock-DMrM1qjq.js";import{I as Oe}from"./IconSpinner-COqzgk4U.js";import"./axios-B9ygI19o.js";const Ae={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-inputBg"},Te={class:"flex items-center justify-between border-b border-strokePrimary/30 bg-card px-4 py-2"},ze={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},De=["value"],Re=W({__name:"CodeEditor",props:{modelValue:{},language:{}},emits:["update:modelValue"],setup(d,{emit:c}){const{t:v}=F(),p=c,L=S(null),D=y=>{const f=y.target;p("update:modelValue",f.value)},P=y=>{if(y.key==="Tab"){y.preventDefault();const f=y.target,u=f.selectionStart,B=f.selectionEnd,H=f.value;f.value=H.substring(0,u)+"  "+H.substring(B),f.selectionStart=f.selectionEnd=u+2,p("update:modelValue",f.value)}};return(y,f)=>(l(),i("div",Ae,[e("div",Te,[e("span",ze,n(d.language||x(v)("editor.code")),1)]),e("textarea",{ref_key:"textareaRef",ref:L,class:"h-full w-full resize-none bg-transparent p-4 font-mono text-sm leading-relaxed text-textWhite focus:outline-none whitespace-pre-wrap break-words",value:d.modelValue,spellcheck:"false",onInput:D,onKeydown:P},null,40,De)]))}}),Be={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-card"},He={class:"border-b border-strokePrimary/30 px-4 py-2"},Ve={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},Me=["srcdoc","title"],Ne=W({__name:"LivePreview",props:{code:{},previewType:{}},setup(d){const{t:c,currentLanguage:v}=F(),p=d,L=m(()=>v.value==="pl"?'PodglÄ…d wizualny nie jest dostÄ™pny dla tego zadania.<br>SprawdÅº rozwiÄ…zanie uÅ¼ywajÄ…c przycisku "SprawdÅº".':'Visual preview is not available for this task.<br>Check your solution using the "Check" button.'),D=m(()=>{if(p.previewType==="none"||!p.previewType)return`
      <!DOCTYPE html>
      <html>
        <body style="margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background-color:transparent;color:#64748b;font-family:sans-serif;text-align:center;font-size:0.875rem;">
          <p>${L.value}</p>
        </body>
      </html>
    `;const P=p.previewType==="css"?p.code:"",y=p.previewType==="js"?p.code:"";return`
  <!DOCTYPE html>
  <html>
    <head>
      <style>
        body {
          margin: 0;
          padding: 1rem;
          font-family: sans-serif;
          color: #ffffff;
          background-color: transparent;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .container {
          display: flex;
          gap: 1rem;
          background: rgba(255,255,255,0.1);
          padding: 1rem;
          border-radius: 0.5rem;
          width: 100%;
          max-width: 300px;
          height: 150px;
        }
        .item {
          width: 50px;
          height: 50px;
          background: #02B2D0;
          border-radius: 0.25rem;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          transition: all 0.3s ease;
        }
      </style>
      <style>
        ${P}
      </style>
    </head>
    <body>
      <div class="container">
        <div class="item">1</div>
        <div class="item">2</div>
        <div class="item">3</div>
      </div>
      <script>
        window.onload = function() {
          try {
            ${y}
          } catch (e) {
            console.error(e);
          }
        }
      
      <\/script>
    </body>
  </html>
`});return(P,y)=>(l(),i("div",Be,[e("div",He,[e("span",Ve,n(x(c)("lesson.preview")),1)]),e("iframe",{class:"h-full w-full border-0 bg-transparent",srcdoc:D.value,sandbox:"allow-scripts",title:x(c)("lesson.preview")},null,8,Me)]))}}),We={class:"flex h-full flex-col overflow-hidden rounded-xl border border-strokePrimary/30 bg-[#111a2c]"},Fe={class:"border-b border-strokePrimary/30 px-4 py-2 flex justify-between items-center"},Ke={class:"text-xs font-semibold uppercase tracking-wider text-textSecondary"},Ue={key:0,class:"text-xs text-textPrimary animate-pulse"},Xe={class:"h-full w-full overflow-auto bg-[#0d1422] p-4 font-mono text-sm leading-relaxed"},Je={key:1,class:"text-textSecondary opacity-50"},Ye=W({__name:"ConsoleOutput",props:{output:{},isError:{type:Boolean},isLoading:{type:Boolean}},setup(d){const{t:c}=F();return(v,p)=>(l(),i("div",We,[e("div",Fe,[e("span",Ke,n(x(c)("console.title")),1),d.isLoading?(l(),i("span",Ue,n(x(c)("console.executing")),1)):w("",!0)]),e("div",Xe,[d.output?(l(),i("pre",{key:0,class:ee([d.isError?"text-red-400":"text-emerald-400","whitespace-pre-wrap break-all"])},n(d.output),3)):d.isLoading?w("",!0):(l(),i("div",Je,n(x(c)("console.placeholder")),1))])]))}}),Ge={class:"fixed bottom-1/4 right-0 z-50 flex flex-col items-end pointer-events-none"},qe={key:0,class:"animate-pop-in relative right-4 mb-4 mr-8 max-w-xs rounded-[2rem] border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] pointer-events-auto"},Qe={class:"space-y-3 font-sans text-black"},Ze={key:0,class:"space-y-1"},et={class:"text-xs font-black uppercase tracking-wider text-blue-600 block mb-1"},tt={class:"text-sm font-medium leading-relaxed"},st={key:1,class:"space-y-1 pt-3 border-t-2 border-dashed border-gray-200"},ot={class:"text-xs font-black uppercase tracking-wider text-purple-600 block mb-1"},at={class:"text-sm font-medium leading-relaxed"},rt={key:2,class:"space-y-2"},lt={class:"text-sm text-gray-500"},nt={key:3,class:"text-xs font-semibold italic text-gray-400 pt-1 border-t border-gray-100"},it={class:"h-full w-full",style:{transform:"scaleX(-1)"}},dt=["src"],ut={key:0,class:"absolute left-6 top-4 flex h-8 w-8 items-center justify-center rounded-full border-2 border-white bg-red-500 text-sm font-bold text-white shadow-lg animate-bounce"},ct=W({__name:"HintCharacter",props:{failedAttempts:{},hint1:{},hint2:{},state:{}},setup(d){const c=d,{t:v}=F(),p=S(!1),L=m(()=>{switch(c.state){case"checking":return"/images/char_checking.png";case"hint":return"/images/char_hint.png";default:return"/images/char_neutral.png"}}),D=m(()=>!!c.hint1),P=m(()=>!!c.hint2),y=m(()=>c.failedAttempts>=5&&D.value),f=m(()=>c.failedAttempts>=10&&P.value),u=m(()=>Math.max(0,5-c.failedAttempts)),B=m(()=>Math.max(0,10-c.failedAttempts)),H=()=>{p.value=!p.value};return(g,_)=>(l(),i("div",Ge,[p.value?(l(),i("div",qe,[e("div",Qe,[y.value?(l(),i("div",Ze,[e("span",et,n(x(v)("hint.hint1")),1),e("p",tt,n(d.hint1),1)])):w("",!0),f.value?(l(),i("div",st,[e("span",ot,n(x(v)("hint.hint2")),1),e("p",at,n(d.hint2),1)])):w("",!0),!y.value&&!f.value?(l(),i("div",rt,[_[3]||(_[3]=e("p",{class:"text-sm font-bold text-gray-700"},"ðŸ’¡ Masz problem z zadaniem?",-1)),e("p",lt,[_[2]||(_[2]=z(" Po ",-1)),e("strong",null,n(u.value),1),z(" "+n(u.value===1?"bÅ‚Ä™dnej prÃ³bie":"bÅ‚Ä™dnych prÃ³bach")+" odblokujÄ™ pierwszÄ… wskazÃ³wkÄ™. ",1)])])):w("",!0),y.value&&!f.value&&P.value?(l(),i("p",nt,n(x(v)("hint.hint2AvailableIn",{count:B.value})),1)):w("",!0)]),_[4]||(_[4]=e("div",{class:"absolute -bottom-3 right-8 h-6 w-6 rotate-45 border-b-2 border-r-2 border-black bg-white"},null,-1))])):w("",!0),e("div",{class:"pointer-events-auto relative -mr-20 transition-transform duration-300 cursor-help",onMouseenter:_[0]||(_[0]=K=>p.value=!0),onMouseleave:_[1]||(_[1]=K=>p.value=!1)},[e("button",{class:"group relative h-56 w-56 focus:outline-none",onClick:H},[e("div",it,[e("img",{src:L.value,alt:"Assistant",class:"h-full w-full object-contain drop-shadow-xl animate-peek",style:{"transform-origin":"bottom right"}},null,8,dt)]),y.value&&!p.value?(l(),i("span",ut," ! ")):w("",!0)])],32)]))}}),vt=Ce(ct,[["__scopeId","data-v-2a5401ce"]]),de="https://judge0-ce.p.rapidapi.com",ue="5af29ad5b5msh36aa46c130a5c53p1bca7cjsnc5e970eec62e",Z=d=>{try{return btoa(unescape(encodeURIComponent(d)))}catch(c){return console.error("Error encoding to Base64:",c),""}},X=d=>{if(!d)return null;try{return decodeURIComponent(escape(atob(d)))}catch(c){return console.error("Error decoding from Base64:",c),d}},pt=async d=>{const c={...d,source_code:Z(d.source_code),stdin:d.stdin?Z(d.stdin):void 0,expected_output:d.expected_output?Z(d.expected_output):void 0},v=await fetch(`${de}/submissions?base64_encoded=true&fields=*`,{method:"POST",headers:{"content-type":"application/json","Content-Type":"application/json","X-RapidAPI-Key":ue,"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com"},body:JSON.stringify(c)});if(!v.ok){const L=await v.text();throw new Error(`Failed to create submission: ${v.status} ${v.statusText} - ${L}`)}return(await v.json()).token},mt=async d=>{const c=await fetch(`${de}/submissions/${d}?base64_encoded=true&fields=*`,{method:"GET",headers:{"X-RapidAPI-Key":ue,"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com"}});if(!c.ok)throw new Error("Failed to get submission");const v=await c.json();return{...v,stdout:X(v.stdout),stderr:X(v.stderr),compile_output:X(v.compile_output),message:X(v.message)}},ft={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},xt={class:"mx-auto grid w-full max-w-[1600px] flex-1 grid-cols-1 gap-6 px-6 py-8 lg:grid-cols-[350px_1fr]"},ht={class:"flex flex-col gap-6 lg:order-first"},gt={class:"rounded-2xl border border-strokePrimary/30 bg-card p-6"},bt={class:"mb-6"},yt={class:"text-lg font-bold text-textWhite"},_t={class:"flex flex-col gap-2"},wt=["disabled","onClick"],kt={class:"flex items-center gap-3"},St={key:1},Ct={class:"text-sm font-medium line-clamp-1"},$t={class:"flex flex-col gap-6"},Pt={key:0,class:"flex flex-col gap-6 rounded-2xl border border-strokePrimary/30 bg-card p-6 shadow-2xl shadow-black/20 h-full"},It={key:0,class:"flex flex-col h-full relative"},jt={class:"mb-8 space-y-6"},Lt={class:"flex items-start justify-between gap-4 border-b border-strokePrimary/20 pb-6"},Et={class:"text-3xl font-bold text-textWhite mb-2"},Ot={class:"text-textSecondary"},At={class:"prose prose-invert max-w-none text-textSecondary text-lg leading-relaxed"},Tt={key:0,class:"whitespace-pre-line mb-4"},zt={key:1,class:"my-6 rounded-lg bg-[#111111] border border-strokePrimary/30 overflow-hidden shadow-lg"},Dt={class:"flex items-center justify-between px-4 py-2 bg-[#1a1a1a] border-b border-strokePrimary/20"},Rt={class:"text-xs font-mono text-blue-400 font-bold uppercase"},Bt={class:"p-4 overflow-x-auto text-sm font-mono text-gray-300 leading-relaxed"},Ht={class:"mt-auto flex justify-end border-t border-strokePrimary/20 pt-8"},Vt={class:"flex items-center gap-4"},Mt=["disabled"],Nt={key:1,class:"flex flex-col h-full gap-6"},Wt={class:"mb-4 space-y-4"},Ft={class:"flex items-start justify-between gap-4"},Kt={class:"text-2xl font-bold text-textWhite"},Ut={class:"prose prose-invert max-w-none text-textSecondary"},Xt={key:0,class:"whitespace-pre-line mb-4"},Jt={key:1,class:"my-4 rounded-lg bg-[#111111] border border-strokePrimary/30 overflow-hidden"},Yt={class:"px-4 py-2 bg-[#1a1a1a] text-xs text-blue-400 font-mono border-b border-strokePrimary/20 uppercase font-bold"},Gt={class:"p-4 overflow-x-auto text-sm font-mono text-gray-300"},qt={class:"flex items-center justify-between"},Qt={class:"text-lg font-bold text-textWhite"},Zt={class:"flex items-center gap-4"},es=["disabled"],ts={key:1,class:"text-xs font-semibold text-red-500 max-w-[200px] leading-tight"},ss={key:2,class:"flex items-center gap-4"},os={class:"text-emerald-400 font-bold flex items-center gap-2"},as={class:"grid flex-1 grid-cols-1 gap-6 lg:grid-cols-2 min-h-[500px]"},rs={class:"flex items-center justify-between border-t border-strokePrimary/20 pt-6"},ls=["disabled"],ns={key:1,class:"flex h-64 items-center justify-center rounded-2xl border border-dashed border-strokePrimary/30 text-textSecondary"},gs=W({__name:"LessonPage",setup(d){const c=ye(),v=we(),{dashboardData:p,isDashboardLoading:L,loadDashboardData:D}=Ie(),{profileData:P,loadProfileData:y,markLessonAsCompleted:f}=Le(),{t:u,currentLanguage:B}=F(),{isLoggedIn:H}=$e(),g=m(()=>c.params.courseId),_=m(()=>Number(c.params.lessonOrder)),K=S(null),h=S(""),k=S(null),E=S(!1),I=S(""),C=S(!1),$=S(!1),O=S(0),j=S([]),te=async()=>{try{const t=await je(g.value,B.value);t&&(K.value=t)}catch(t){console.error("Error loading course details on LessonPage:",t)}};_e(async()=>{D(),y(),await te()});const se=m(()=>K.value||p.value?.courses.find(t=>t.id===g.value));le(B,()=>{te()});const ce=m(()=>o.value?.order===0),ve=m(()=>E.value?"checking":O.value>=5?"hint":"idle"),pe=m(()=>p.value?.navLinks??[]),V=m(()=>P.value?.courseProgress.find(t=>t.courseId===g.value)),A=m(()=>{const t=se.value?.lessons??[],a=V.value;return a?t.map((s,r)=>{const b=s.id.toString(),R=a.completedLessonIds.includes(b),be=r===0||R||r>0&&a.completedLessonIds.includes(t[r-1].id.toString());let G="locked";return R?G="completed":be&&(G="available"),{...s,status:G,isCompleted:R,isActive:s.order===_.value}}):t.map(s=>{const r=j.value.includes(s.id.toString());return{...s,status:r?"completed":"available",isCompleted:r,isActive:s.order===_.value}})}),o=m(()=>A.value.find(t=>t.order===_.value));le(o,t=>{k.value=null,I.value="",C.value=!1,E.value=!1,O.value=0,$.value=t?.isCompleted||!1;const a=V.value?.savedCode?.[t?.id.toString()??""];a?h.value=a:t?.initialCode?h.value=t.initialCode:h.value=""},{immediate:!0});const J=m(()=>{const t=A.value.findIndex(a=>a.order===_.value);return t===-1||t===A.value.length-1?null:A.value[t+1]}),M=m(()=>{const t=A.value.findIndex(a=>a.order===_.value);return t<=0?null:A.value[t-1]}),Y=t=>{const a=Number(t);A.value.find(r=>r.order===a)?.status!=="locked"&&v.push({name:"lesson",params:{courseId:g.value,lessonOrder:a}})},me=async t=>{let s=0;for(;s<10;)try{const r=await mt(t);if(r.status.id<=2){await new Promise(b=>setTimeout(b,1e3)),s++;continue}r.status.id===3?(I.value=r.stdout||u("lesson.noOutput"),C.value=!1,o.value?.expectedOutput?r.stdout?.trim()===o.value.expectedOutput.trim()?(k.value=null,$.value=!0):(k.value=`Expected: "${o.value.expectedOutput.trim()}", got: "${r.stdout?.trim()}"`,C.value=!0,O.value++):$.value=!0):(I.value=Se(r.stderr||r.compile_output||r.message||u("lesson.executionError"),u),C.value=!0,k.value=u("lesson.executionError"),O.value++);return}catch(r){console.error(r),I.value=u("lesson.apiError"),C.value=!0,k.value=u("lesson.connectionError");return}I.value=u("lesson.timeoutError"),C.value=!0},fe=async t=>new Promise(a=>{const s=[],r=console.log;console.log=(...b)=>{s.push(b.map(R=>typeof R=="object"?JSON.stringify(R,null,2):String(R)).join(" "))};try{const b=`
        try {
          ${t}
        } catch (err) {
          throw err;
        }
      `;new Function(b)(),a({stdout:s.join(`
`),error:null})}catch(b){a({stdout:s.join(`
`),error:b.message||String(b)})}finally{console.log=r}}),oe=t=>t.toLowerCase().replace(/\s+/g," ").trim(),xe=async()=>{if(k.value=null,C.value=!1,$.value=!1,o.value?.judge0LanguageId){E.value=!0,I.value="";try{if(o.value.judge0LanguageId===63){const t=h.value+`
`+(o.value.testCode||""),a=await fe(t);if(I.value=a.stdout||u("lesson.noOutput"),a.error)C.value=!0,I.value+=`

Error: ${a.error}`,k.value=u("lesson.executionError"),O.value++;else if(o.value.expectedOutput){const s=oe(o.value.expectedOutput),r=oe(a.stdout);r.includes(s)||r===s?($.value=!0,k.value=null,g.value&&o.value&&h.value&&f(g.value,o.value.id.toString(),void 0,h.value)):(k.value=`Oczekiwano wyniku: "${o.value.expectedOutput.trim()}"`,C.value=!0,O.value++)}else $.value=!0,g.value&&o.value&&h.value&&(V.value?f(g.value,o.value.id.toString(),void 0,h.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()))}else{const t=h.value+`
`+(o.value.testCode||""),a=await pt({source_code:t,language_id:o.value.judge0LanguageId,expected_output:o.value.expectedOutput});await me(a),$.value&&g.value&&o.value&&h.value&&(V.value?f(g.value,o.value.id.toString(),void 0,h.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()))}}catch(t){console.error(t),k.value=u("lesson.submitError")}finally{E.value=!1}return}if(o.value?.validationRegex){let t=o.value.validationRegex,a="";const s=t.match(/^\/(.+)\/([gimsuy]*)$/);if(s&&(t=s[1],a=s[2]),!new RegExp(t,a).test(h.value)){k.value=u("lesson.incorrectSolution"),O.value++;return}}$.value=!0,g.value&&o.value&&h.value&&(H.value&&o.value.exerciseId&&Pe.post(`/api/exercises/${o.value.exerciseId}/submit`,{code:h.value}).catch(()=>{}),V.value?f(g.value,o.value.id.toString(),void 0,h.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()))},ae=()=>{o.value&&(V.value?f(g.value,o.value.id.toString(),J.value?.id.toString(),h.value):j.value.includes(o.value.id.toString())||j.value.push(o.value.id.toString()),J.value?v.push({name:"lesson",params:{courseId:g.value,lessonOrder:J.value.order}}):v.push({name:"course-detail",params:{courseId:g.value}}))},he=()=>{v.push({name:"course-detail",params:{courseId:g.value}})},ge=t=>{switch(t){case"completed":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"current":return"bg-textPrimary/20 text-textPrimary border-textPrimary/50";case"available":return"bg-cardHover text-textWhite border-strokePrimary/30 hover:border-textPrimary/50";default:return"bg-cardDarker text-textSecondary border-transparent opacity-50"}},re=m(()=>{const t=o.value?.taskContent||o.value?.content||u("lesson.noTaskDescription")||"",a=[],s=/```(\w+)?\n([\s\S]*?)```/g;let r=0,b;for(;(b=s.exec(t))!==null;)b.index>r&&a.push({type:"text",content:t.slice(r,b.index)}),a.push({type:"code",language:b[1]||"text",content:b[2].trim()}),r=s.lastIndex;return r<t.length&&a.push({type:"text",content:t.slice(r)}),a});return(t,a)=>(l(),i(U,null,[e("div",ft,[T(ke,{"nav-links":pe.value},null,8,["nav-links"]),e("main",xt,[e("aside",ht,[e("div",gt,[e("div",bt,[e("button",{class:"mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-textSecondary transition hover:text-textPrimary",onClick:he},[T(Q,{class:"h-4 w-4"}),z(" "+n(x(u)("lesson.backToCourse")),1)]),e("h2",yt,n(se.value?.title),1),a[3]||(a[3]=e("div",{class:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-cardHover"},[e("div",{class:"h-full bg-textPrimary",style:{width:"45%"}})],-1))]),e("div",_t,[(l(!0),i(U,null,q(A.value,(s,r)=>(l(),i("button",{key:s.id,class:ee(["flex w-full items-center justify-between rounded-xl border p-3 text-left transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary",[ge(s.status),s.isActive?"ring-2 ring-textPrimary border-textPrimary/50 shadow-[0_0_15px_rgba(59,130,246,0.2)]":""]]),disabled:s.status==="locked",onClick:b=>Y(s.order??r)},[e("div",kt,[e("div",{class:ee(["flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-bold",s.status==="completed"?"bg-emerald-500 text-bgPrimary":"bg-cardHover"])},[s.status==="completed"?(l(),N(ne,{key:0,class:"h-3.5 w-3.5"})):(l(),i("span",St,n(s.order??r),1))],2),e("span",Ct,n(s.title),1)]),s.status==="locked"?(l(),N(Ee,{key:0,class:"h-4 w-4 shrink-0 opacity-50"})):w("",!0)],10,wt))),128))])])]),e("section",$t,[o.value?(l(),i("div",Pt,[ce.value?(l(),i("div",It,[e("div",jt,[e("div",Lt,[e("div",null,[e("h1",Et,n(o.value.title),1),e("p",Ot,n(x(u)("lesson.informational")||"Lesson Informational"),1)])]),e("div",At,[(l(!0),i(U,null,q(re.value,(s,r)=>(l(),i("div",{key:r},[s.type==="text"?(l(),i("p",Tt,n(s.content),1)):(l(),i("div",zt,[e("div",Dt,[e("span",Rt,n(s.language),1),a[4]||(a[4]=e("div",{class:"flex gap-1.5"},[e("div",{class:"w-2.5 h-2.5 rounded-full bg-red-500/20"}),e("div",{class:"w-2.5 h-2.5 rounded-full bg-yellow-500/20"}),e("div",{class:"w-2.5 h-2.5 rounded-full bg-green-500/20"})],-1))]),e("pre",Bt,[e("code",null,n(s.content),1)])]))]))),128))])]),e("div",Ht,[e("div",Vt,[e("button",{class:"flex items-center gap-2 rounded-full border border-strokePrimary/40 px-6 py-3 text-sm font-semibold text-textSecondary transition hover:bg-cardHover hover:text-textWhite disabled:opacity-50",disabled:!M.value,onClick:a[0]||(a[0]=s=>M.value&&Y(M.value.order??0))},[T(Q,{class:"h-4 w-4"}),z(" "+n(x(u)("lesson.previous")),1)],8,Mt),e("button",{class:"flex items-center gap-2 rounded-full bg-emerald-600 px-8 py-3 text-base font-bold text-white transition hover:bg-emerald-700 hover:scale-105 active:scale-95 shadow-lg shadow-emerald-600/20",onClick:ae},[z(n(x(u)("lesson.next"))+" ",1),T(ie,{class:"h-5 w-5"})])])])])):(l(),i("div",Nt,[e("div",Wt,[e("div",Ft,[e("h1",Kt,n(o.value.title),1)]),e("div",Ut,[(l(!0),i(U,null,q(re.value,(s,r)=>(l(),i("div",{key:r},[s.type==="text"?(l(),i("p",Xt,n(s.content),1)):(l(),i("div",Jt,[e("div",Yt,n(s.language),1),e("pre",Gt,[e("code",null,n(s.content),1)])]))]))),128))])]),e("div",qt,[e("h2",Qt,n(x(u)("lesson.editorLabel")),1),e("div",Zt,[$.value?w("",!0):(l(),i("button",{key:0,class:"flex items-center gap-2 rounded-full bg-blue-600 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:opacity-70 disabled:cursor-not-allowed",disabled:E.value,onClick:xe},[E.value?(l(),N(Oe,{key:0,class:"h-4 w-4 animate-spin"})):w("",!0),e("span",null,n(E.value?x(u)("lesson.checking"):x(u)("lesson.check")),1)],8,es)),k.value?(l(),i("span",ts,n(k.value),1)):w("",!0),$.value?(l(),i("div",ss,[e("span",os,[T(ne,{class:"w-5 h-5"}),z(" "+n(x(u)("lesson.correct")),1)]),e("button",{class:"flex items-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-emerald-700",onClick:ae},[z(n(x(u)("lesson.next"))+" ",1),T(ie,{class:"h-4 w-4"})])])):w("",!0)])]),e("div",as,[T(Re,{modelValue:h.value,"onUpdate:modelValue":a[1]||(a[1]=s=>h.value=s),language:o.value.editorLabel||(o.value.judge0LanguageId?"JS/Code":"CSS/HTML")},null,8,["modelValue","language"]),o.value.judge0LanguageId?(l(),N(Ye,{key:0,output:I.value,"is-error":C.value,"is-loading":E.value},null,8,["output","is-error","is-loading"])):(l(),N(Ne,{key:1,code:h.value,"preview-type":o.value.previewType||"css"},null,8,["code","preview-type"]))]),e("div",rs,[e("button",{class:"flex items-center gap-2 rounded-full border border-strokePrimary/40 px-5 py-2.5 text-sm font-semibold text-textSecondary transition hover:bg-cardHover hover:text-textWhite disabled:opacity-50 disabled:hover:bg-transparent disabled:hover:text-textSecondary",disabled:!M.value,onClick:a[2]||(a[2]=s=>M.value&&Y(M.value.order??0))},[T(Q,{class:"h-4 w-4"}),z(" "+n(x(u)("lesson.previous")),1)],8,ls)])]))])):(l(),i("div",ns,n(x(u)("lesson.selectLesson")),1))])])]),o.value?(l(),N(vt,{key:0,"failed-attempts":O.value,hint1:o.value.hint,hint2:o.value.hint2,state:ve.value},null,8,["failed-attempts","hint1","hint2","state"])):w("",!0)],64))}});export{gs as default};
