import{d as de,z as ue,r as c,c as ce,e as pe,a as p,m as k,b as t,t as i,i as n,g as R,w as xe,x as be,q as F,F as $,h as T,s as u,v as x,K as me,E as B,u as ve,p as N,n as E,o as b}from"./vendor-lIf_UB2E.js";import{u as ge,b as y,c as fe}from"./main-CyjH2vMn.js";import{_ as ye}from"./ConfirmationModal.vue_vue_type_script_setup_true_lang-x_qbTs3G.js";import"./axios-B9ygI19o.js";const he={key:0,class:"flex justify-center py-12"},ke={class:"text-textSecondary"},we={key:1,class:"space-y-8 max-w-4xl mx-auto"},_e={class:"flex items-center gap-4"},Se={class:"text-2xl font-bold text-textWhite"},Pe={class:"bg-card border border-strokePrimary/30 rounded-xl p-6 space-y-4"},We={class:"text-lg font-bold text-textWhite mb-4"},Ce={class:"grid gap-4"},Le={key:0,class:"flex justify-center mb-4"},je=["src"],ze={class:"flex gap-2"},De={class:"bg-bgPrimary border border-strokePrimary rounded-2xl w-full max-w-4xl shadow-2xl p-6 flex flex-col max-h-[90vh]"},Ue={class:"flex-1 overflow-y-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 p-2"},Ve=["onClick"],Me=["src"],$e={key:0,class:"absolute top-2 right-2 bg-primary text-white p-1 rounded-full"},Te={class:"flex justify-end gap-3 pt-4 border-t border-strokePrimary/20 mt-4"},Ee=["disabled"],Ie={class:"block text-xs font-bold text-textSecondary uppercase mb-1"},Oe={class:"block text-xs font-bold text-textSecondary uppercase mb-1"},Re={class:"grid grid-cols-2 gap-4"},Fe={class:"block text-xs font-bold text-textSecondary uppercase mb-1"},Be={class:"flex flex-wrap gap-2 max-h-32 overflow-y-auto p-2 bg-bgSecondary rounded-lg border border-strokePrimary/30"},Ne=["onClick"],Ae={class:"flex justify-end pt-2"},Je=["disabled"],Ke={class:"bg-card border border-strokePrimary/30 rounded-xl p-6"},qe={class:"flex items-center justify-between mb-6"},He={class:"flex items-center gap-4"},Ge={class:"text-lg font-bold text-textWhite"},Qe=["placeholder"],Ze={class:"flex gap-3"},Xe=["disabled"],Ye={key:0,class:"text-center py-8 text-textSecondary text-sm"},et={key:1,class:"space-y-2"},tt=["onDragstart","onDrop"],ot={class:"flex items-center gap-4"},st={class:"w-8 h-8 flex items-center justify-center bg-bgSecondary rounded-full text-xs font-mono text-textSecondary select-none"},lt={class:"text-sm font-medium text-textWhite select-none"},rt={class:"text-primary font-bold"},at={key:0,class:"ml-2 px-1.5 py-0.5 text-[10px] font-bold uppercase bg-emerald-500/20 text-emerald-400 rounded"},nt={class:"text-xs text-textSecondary truncate max-w-md select-none"},it={class:"flex items-center gap-2"},dt=["onClick"],ut=["onClick"],ct={class:"bg-bgPrimary border border-strokePrimary rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden p-6 space-y-4 max-h-[90vh] overflow-y-auto"},pt={class:"text-xl font-bold text-textWhite"},xt={class:"space-y-4"},bt={class:"block text-xs font-bold text-textSecondary uppercase mb-1"},mt={class:"block text-xs font-bold text-textSecondary uppercase mb-1"},vt={class:"flex items-center gap-3 py-2 border-t border-strokePrimary/20"},gt={class:"relative inline-flex items-center cursor-pointer"},ft={key:0,class:"space-y-4 bg-bgSecondary/50 rounded-xl p-4 border border-emerald-500/20"},yt={class:"grid grid-cols-2 gap-4"},ht={class:"grid grid-cols-2 gap-4"},kt={class:"flex justify-end gap-3 pt-4"},wt=["disabled"],Lt=de({__name:"AdminCourseEditPage",setup(_t){const A=ue(),J=ve(),{notify:m}=fe(),{t:l}=ge(),W=A.params.id,a=c(null),I=c([]),D=c(!0),d=c({title:"",description:"",duration:0,reward:0,tags:[],image:null}),C=c(!1),K=s=>{const e=d.value.tags.indexOf(s);e===-1?d.value.tags.push(s):d.value.tags.splice(e,1)},q=s=>{const e=s.target;e.files&&e.files[0]&&(d.value.image=e.files[0])},w=c(!1),f=c(null),r=c({title:"",description:"",content:"",has_exercise:!1,exercise_title:"",exercise_description:"",initial_code:"",expected_output:"",judge0_language_id:null,validation_regex:"",test_code:"",hint:"",hint_2:"",preview_type:"none"}),L=c(!1),U=c(!1),S=c(null),j=c(!1),_=c(null),H=()=>{r.value={title:"",description:"",content:"",has_exercise:!1,exercise_title:"",exercise_description:"",initial_code:"",expected_output:"",judge0_language_id:null,validation_regex:"",test_code:"",hint:"",hint_2:"",preview_type:"none"}},V=async()=>{D.value=!0;try{const[s,e]=await Promise.all([y.get(`/api/admin/courses/${W}`),y.get("/api/technologies")]);a.value=s.data,a.value&&a.value.image_path&&!a.value.image_path.startsWith("/")&&!a.value.image_path.startsWith("http")&&(a.value.image_path="/"+a.value.image_path),I.value=e.data,a.value&&a.value.lessons&&a.value.lessons.sort((v,o)=>(v.order||0)-(o.order||0)),d.value={title:s.data.title,description:s.data.description,duration:s.data.duration||0,reward:s.data.reward||0,tags:s.data.tags.map(v=>v.id),image:null}}catch{m("error",l("admin.courses.notifications.fetchError")),J.push("/admin/courses")}finally{D.value=!1}},O=c([]),P=c(!1),g=c(null),G=async()=>{try{const s=await y.get("/api/admin/courses/images");O.value=s.data,P.value=!0}catch{m("error",l("admin.common.error"))}},Q=s=>{g.value=s},Z=()=>{g.value&&(d.value.image=null,a.value&&(a.value.image_path=g.value),P.value=!1)},X=async()=>{C.value=!0;const s=new FormData;s.append("title",d.value.title),d.value.description&&s.append("description",d.value.description),d.value.duration&&s.append("duration",d.value.duration.toString()),d.value.reward&&s.append("reward",d.value.reward.toString()),d.value.tags.forEach(e=>s.append("tags[]",e.toString())),d.value.image?s.append("image",d.value.image):g.value&&s.append("existing_image_path",g.value),s.append("_method","PUT");try{await y.post(`/api/admin/courses/${W}`,s,{headers:{"Content-Type":"multipart/form-data"}}),m("success",l("admin.courses.notifications.updated")),V()}catch{m("error",l("admin.courses.notifications.updateError"))}finally{C.value=!1,g.value=null}},Y=()=>{f.value=null,H(),w.value=!0},ee=s=>{f.value=s.id;const e=s.exercises?.[0];r.value={title:s.title,description:s.description||"",content:s.content||"",has_exercise:!!e,exercise_title:e?.title||"",exercise_description:e?.description||"",initial_code:e?.initial_code||"",expected_output:e?.expected_output||"",judge0_language_id:e?.judge0_language_id||null,validation_regex:e?.validation_regex||"",test_code:e?.test_code||"",hint:e?.hint||"",hint_2:e?.hint_2||"",preview_type:e?.preview_type||"none"},w.value=!0},te=async()=>{if(!r.value.title){m("error",l("admin.courses.notifications.lessonTitleRequired"));return}L.value=!0;try{if(f.value){const s=await y.put(`/api/admin/lessons/${f.value}`,r.value);if(a.value){const e=a.value.lessons.findIndex(v=>v.id===f.value);e!==-1&&(a.value.lessons[e]={...a.value.lessons[e],...s.data})}m("success",l("admin.courses.notifications.lessonUpdated"))}else await y.post(`/api/admin/courses/${W}/lessons`,r.value),m("success",l("admin.courses.notifications.lessonAdded")),V();w.value=!1}catch{m("error",f.value?l("admin.courses.notifications.lessonUpdateError"):l("admin.courses.notifications.lessonAddError"))}finally{L.value=!1}},oe=s=>{S.value=s,U.value=!0},se=async()=>{if(S.value)try{await y.delete(`/api/admin/lessons/${S.value.id}`),m("success",l("admin.courses.notifications.lessonDeleted")),a.value&&(a.value.lessons=a.value.lessons.filter(s=>s.id!==S.value.id))}catch{m("error",l("admin.courses.notifications.lessonDeleteError"))}},le=s=>{_.value=s},re=s=>{s.preventDefault()},ae=s=>{if(_.value===null)return;const e=[...a.value?.lessons||[]],v=e[_.value];e.splice(_.value,1),e.splice(s,0,v),a.value&&(a.value.lessons=e),_.value=null},ne=async()=>{if(a.value){j.value=!0;try{const s=a.value.lessons.map((e,v)=>({id:e.id,order:v+1}));await y.post(`/api/admin/courses/${W}/reorder`,{lessons:s}),m("success",l("admin.courses.notifications.orderSaved"))}catch{m("error",l("admin.courses.notifications.orderError"))}finally{j.value=!1}}},z=c(""),ie=ce(()=>{if(!a.value)return[];if(!z.value)return a.value.lessons;const s=z.value.toLowerCase();return a.value.lessons.filter(e=>e.title.toLowerCase().includes(s)||e.description?.toLowerCase().includes(s))});return pe(V),(s,e)=>{const v=be("RouterLink");return D.value?(b(),p("div",he,[t("span",ke,i(n(l)("admin.common.loading")),1)])):a.value?(b(),p("div",we,[t("div",_e,[R(v,{to:"/admin/courses",class:"p-2 rounded-lg bg-bgSecondary text-textSecondary hover:text-textWhite transition-colors"},{default:xe(()=>[N(" ← "+i(n(l)("admin.common.back")),1)]),_:1}),t("h1",Se,i(n(l)("admin.courses.editPage.title"))+": "+i(a.value.title),1)]),t("div",Pe,[t("h2",We,i(n(l)("admin.courses.editPage.details")),1),t("div",Ce,[a.value.image_path?(b(),p("div",Le,[t("img",{src:a.value.image_path,alt:"Course Logo",class:"h-32 w-32 object-cover rounded-xl border border-strokePrimary/30"},null,8,je)])):k("",!0),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Obrazek kursu",-1)),t("div",ze,[t("input",{type:"file",accept:"image/*",class:"w-full text-sm text-textSecondary file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-bold file:bg-primary/20 file:text-primary hover:file:bg-primary/30 transition-colors",onChange:q},null,32),t("button",{type:"button",class:"px-3 py-2 bg-bgSecondary text-textSecondary hover:text-textWhite font-bold rounded-lg border border-strokePrimary/30 transition-colors text-xs whitespace-nowrap",onClick:G},"Wybierz z biblioteki")])]),P.value?(b(),p("div",{key:1,class:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:e[1]||(e[1]=F(o=>P.value=!1,["self"]))},[t("div",De,[e[27]||(e[27]=t("h3",{class:"text-xl font-bold text-textWhite mb-4"},"Wybierz obraz z biblioteki",-1)),t("div",Ue,[(b(!0),p($,null,T(O.value,o=>(b(),p("div",{key:o,class:E(["relative group cursor-pointer rounded-lg overflow-hidden border-2 transition-all",g.value===o?"border-primary":"border-transparent hover:border-strokePrimary"]),onClick:h=>Q(o)},[t("img",{src:o,alt:"Gallery Image",class:"w-full h-32 object-cover"},null,8,Me),e[26]||(e[26]=t("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"},null,-1)),g.value===o?(b(),p("div",$e,[...e[25]||(e[25]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):k("",!0)],10,Ve))),128))]),t("div",Te,[t("button",{class:"px-4 py-2 rounded-lg text-textSecondary hover:text-textWhite font-bold transition-colors",onClick:e[0]||(e[0]=o=>P.value=!1)},"Anuluj"),t("button",{class:"px-6 py-2 bg-primary text-textWhite font-bold rounded-lg hover:bg-primary/90 transition-all disabled:opacity-50",disabled:!g.value,onClick:Z},"Wybierz",8,Ee)])])])):k("",!0),t("div",null,[t("label",Ie,i(n(l)("admin.courses.addModal.courseTitle")),1),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>d.value.title=o),type:"text",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,d.value.title]])]),t("div",null,[t("label",Oe,i(n(l)("admin.courses.addModal.description")),1),u(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>d.value.description=o),rows:"4",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,d.value.description]])]),t("div",Re,[t("div",null,[e[28]||(e[28]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Czas (min)",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>d.value.duration=o),type:"number",min:"0",placeholder:"np. 120",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,d.value.duration,void 0,{number:!0}]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Punkty (PD)",-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>d.value.reward=o),type:"number",min:"0",placeholder:"np. 50",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,d.value.reward,void 0,{number:!0}]])])]),t("div",null,[t("label",Fe,i(n(l)("admin.courses.table.tags")),1),t("div",Be,[(b(!0),p($,null,T(I.value,o=>(b(),p("button",{key:o.id,class:E(["px-2 py-1 rounded-md text-xs font-bold transition-colors border",d.value.tags.includes(o.id)?"bg-primary/20 text-primary border-primary":"bg-transparent text-textSecondary border-transparent hover:bg-white/5"]),onClick:h=>K(o.id)},i(o.name),11,Ne))),128))])])]),t("div",Ae,[t("button",{disabled:C.value,class:"px-6 py-2 bg-primary text-textWhite font-bold rounded-lg hover:bg-primary/90 transition-all disabled:opacity-50",onClick:X},i(C.value?n(l)("admin.common.saving"):n(l)("admin.common.save")),9,Je)])]),t("div",Ke,[t("div",qe,[t("div",He,[t("h2",Ge,i(n(l)("admin.courses.editPage.lessons"))+" ("+i(a.value.lessons.length)+")",1),u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>z.value=o),type:"text",placeholder:n(l)("admin.courses.editPage.searchLessons"),class:"bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-1.5 text-textWhite text-xs focus:border-primary focus:outline-none transition-colors w-48"},null,8,Qe),[[x,z.value]])]),t("div",Ze,[t("button",{disabled:j.value,class:"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-500 transition-colors shadow-lg shadow-green-500/20 disabled:opacity-50",onClick:ne},i(j.value?n(l)("admin.common.saving"):n(l)("admin.courses.editPage.saveOrder")),9,Xe),t("button",{class:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/20",onClick:Y},"+ "+i(n(l)("admin.courses.editPage.addLesson")),1)])]),a.value.lessons.length===0?(b(),p("div",Ye,i(n(l)("admin.courses.editPage.noLessons")),1)):(b(),p("ul",et,[(b(!0),p($,null,T(ie.value,(o,h)=>(b(),p("li",{key:o.id,class:E(["flex items-center justify-between p-3 rounded-lg bg-bgPrimary border border-strokePrimary/20 hover:border-strokePrimary/50 transition-all group cursor-move",{"opacity-50":_.value===h}]),draggable:"true",onDragstart:M=>le(h),onDragover:re,onDrop:M=>ae(h)},[t("div",ot,[t("span",st,i(h+1),1),t("div",null,[t("div",lt,[t("span",rt,i(n(l)("admin.courses.editPage.lesson"))+" "+i(h+1)+":",1),N(" "+i(o.title)+" ",1),o.exercises&&o.exercises.length>0?(b(),p("span",at,"Zadanie")):k("",!0)]),t("div",nt,i(o.description),1)])]),t("div",it,[t("button",{class:"px-2 py-1 text-xs font-bold text-blue-400 bg-blue-500/10 rounded hover:bg-blue-500/20 transition-colors",onClick:M=>ee(o)},i(n(l)("admin.common.edit")),9,dt),t("button",{class:"px-2 py-1 text-xs font-bold text-red-500 bg-red-500/10 rounded hover:bg-red-500/20 transition-colors",onClick:M=>oe(o)},i(n(l)("admin.common.delete")),9,ut)])],42,tt))),128))]))]),w.value?(b(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:e[22]||(e[22]=F(o=>w.value=!1,["self"]))},[t("div",ct,[t("h3",pt,i(f.value?n(l)("admin.courses.editPage.editLesson"):n(l)("admin.courses.editPage.addLessonTitle")),1),t("div",xt,[t("div",null,[t("label",bt,i(n(l)("admin.courses.editPage.lessonTitle")),1),u(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>r.value.title=o),type:"text",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,r.value.title]])]),t("div",null,[t("label",mt,i(n(l)("admin.courses.editPage.lessonDescription")),1),u(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=o=>r.value.description=o),rows:"2",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,r.value.description]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Treść lekcji (teoria / markdown)",-1)),u(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=o=>r.value.content=o),rows:"4",placeholder:"Treść lekcji wyświetlana użytkownikowi. Obsługuje bloki kodu: ```javascript ... ```",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-4 py-2 text-textWhite text-sm font-mono focus:border-primary focus:outline-none"},null,512),[[x,r.value.content]])]),t("div",vt,[t("label",gt,[u(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>r.value.has_exercise=o),type:"checkbox",class:"sr-only peer"},null,512),[[me,r.value.has_exercise]]),e[31]||(e[31]=t("div",{class:"w-10 h-5 bg-bgSecondary peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-gray-400 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-emerald-600 peer-checked:after:bg-white"},null,-1))]),e[32]||(e[32]=t("span",{class:"text-sm font-bold text-textWhite"},"Lekcja zawiera zadanie do rozwiązania",-1))]),r.value.has_exercise?(b(),p("div",ft,[e[45]||(e[45]=t("h4",{class:"text-sm font-bold text-emerald-400 uppercase tracking-wider"},"Konfiguracja zadania",-1)),t("div",yt,[t("div",null,[e[33]||(e[33]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Tytuł zadania",-1)),u(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>r.value.exercise_title=o),type:"text",placeholder:"Domyślnie: tytuł lekcji",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,r.value.exercise_title]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Język (Judge0 ID)",-1)),u(t("select",{"onUpdate:modelValue":e[12]||(e[12]=o=>r.value.judge0_language_id=o),class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},[...e[34]||(e[34]=[t("option",{value:null},"Brak (walidacja regex)",-1),t("option",{value:63},"JavaScript (63)",-1),t("option",{value:68},"PHP (68)",-1),t("option",{value:71},"Python (71)",-1),t("option",{value:62},"Java (62)",-1),t("option",{value:54},"C++ (54)",-1)])],512),[[B,r.value.judge0_language_id]])])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Opis zadania (treść polecenia)",-1)),u(t("textarea",{"onUpdate:modelValue":e[13]||(e[13]=o=>r.value.exercise_description=o),rows:"2",placeholder:"Domyślnie: opis lekcji",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,r.value.exercise_description]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Kod początkowy",-1)),u(t("textarea",{"onUpdate:modelValue":e[14]||(e[14]=o=>r.value.initial_code=o),rows:"4",placeholder:"Kod wyświetlany w edytorze na start",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm font-mono focus:border-primary focus:outline-none"},null,512),[[x,r.value.initial_code]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Oczekiwany wynik (output)",-1)),u(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=o=>r.value.expected_output=o),rows:"2",placeholder:"Wynik console.log / echo / print",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm font-mono focus:border-primary focus:outline-none"},null,512),[[x,r.value.expected_output]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Kod testowy (dołączany do kodu użytkownika)",-1)),u(t("textarea",{"onUpdate:modelValue":e[16]||(e[16]=o=>r.value.test_code=o),rows:"3",placeholder:"Np. try { console.log(myFunction()); } catch(e) { ... }",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm font-mono focus:border-primary focus:outline-none"},null,512),[[x,r.value.test_code]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Validation Regex (zamiast Judge0)",-1)),u(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>r.value.validation_regex=o),type:"text",placeholder:"np. /SELECT\\s+name\\s+FROM\\s+products/i",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm font-mono focus:border-primary focus:outline-none"},null,512),[[x,r.value.validation_regex]])]),t("div",ht,[t("div",null,[e[41]||(e[41]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Podpowiedź 1",-1)),u(t("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>r.value.hint=o),type:"text",placeholder:"Wyświetlana po 5 błędach",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,r.value.hint]])]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Podpowiedź 2",-1)),u(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>r.value.hint_2=o),type:"text",placeholder:"Dodatkowa podpowiedź",class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},null,512),[[x,r.value.hint_2]])])]),t("div",null,[e[44]||(e[44]=t("label",{class:"block text-xs font-bold text-textSecondary uppercase mb-1"},"Typ podglądu",-1)),u(t("select",{"onUpdate:modelValue":e[20]||(e[20]=o=>r.value.preview_type=o),class:"w-full bg-bgSecondary border border-strokePrimary/30 rounded-lg px-3 py-2 text-textWhite text-sm focus:border-primary focus:outline-none"},[...e[43]||(e[43]=[t("option",{value:"none"},"Brak (konsola)",-1),t("option",{value:"css"},"CSS Preview",-1),t("option",{value:"html"},"HTML Preview",-1)])],512),[[B,r.value.preview_type]])])])):k("",!0)]),t("div",kt,[t("button",{class:"px-4 py-2 rounded-lg text-textSecondary hover:text-textWhite font-semibold transition-colors",onClick:e[21]||(e[21]=o=>w.value=!1)},i(n(l)("admin.common.cancel")),1),t("button",{disabled:L.value,class:"px-4 py-2 rounded-lg bg-primary text-textWhite font-bold hover:bg-primary/90 transition-all disabled:opacity-50",onClick:te},i(L.value?n(l)("admin.common.saving"):f.value?n(l)("admin.common.save"):n(l)("admin.courses.editPage.addLesson")),9,wt)])])])):k("",!0),R(ye,{"is-open":U.value,"onUpdate:isOpen":e[23]||(e[23]=o=>U.value=o),title:n(l)("admin.courses.deleteLessonModal.title"),message:n(l)("admin.courses.deleteLessonModal.message",{title:S.value?.title||""}),"confirm-text":n(l)("admin.common.delete"),"cancel-text":n(l)("admin.common.cancel"),"is-danger":"",onConfirm:se},null,8,["is-open","title","message","confirm-text","cancel-text"])])):k("",!0)}}});export{Lt as default};
