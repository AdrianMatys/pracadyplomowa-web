import{a as l,o as n,b as e,d as j,c as u,r as V,t,m as S,g as _,i as r,p as b,A as E,F as C,h as L,n as z,e as O,u as G}from"./vendor-lIf_UB2E.js";import{a as H}from"./MainHeader.vue_vue_type_script_setup_true_lang-BKi87J7A.js";import{_ as J,u as I}from"./main-CyjH2vMn.js";import{u as R}from"./useDashboardData-BnW-B8ai.js";import{u as U}from"./useProfileData-6GzBRG_F.js";import{I as B}from"./IconArrowRight-DAGgd0rx.js";import"./axios-B9ygI19o.js";const X={},q={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function K(p,i){return n(),l("svg",q,[...i[0]||(i[0]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"},null,-1),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"},null,-1)])])}const Q=J(X,[["render",K]]),Y={class:"w-full rounded-3xl border border-strokePrimary/30 bg-bgSecondary/60 p-8"},Z={class:"flex flex-col gap-8"},ee={class:"flex flex-col gap-6 md:flex-row md:items-start md:justify-between"},te={class:"flex items-center gap-5"},se={class:"relative flex h-20 w-20 items-center justify-center rounded-full border-2 border-strokePrimary bg-bgPrimary text-4xl shadow-lg"},oe=["src","alt"],re={key:1},le={class:"absolute -bottom-1 -right-1 flex h-8 min-w-8 items-center justify-center rounded-full bg-textPrimary text-xs font-bold text-bgPrimary px-1"},ne={class:"flex items-center gap-3"},ae={class:"text-3xl font-bold text-textWhite"},ie={class:"text-2xl font-semibold text-textPrimary"},de={class:"relative"},ce={key:0,class:"absolute left-1/2 -translate-x-1/2 top-full mt-2 w-48 px-3 py-2 bg-bgPrimary border border-strokePrimary/50 rounded-lg shadow-lg text-xs text-textSecondary z-50"},ue={class:"font-semibold text-textWhite mb-1"},xe={class:"text-sm text-textSecondary mt-1"},pe={class:"mt-2 flex items-center gap-2"},me={class:"text-sm font-bold text-textPrimary"},fe={class:"flex flex-col items-end gap-1"},_e={class:"text-sm font-medium text-textPrimary"},be={class:"flex gap-8 text-center"},he={class:"text-xl font-bold text-textPrimary"},ye={class:"text-[10px] uppercase tracking-wider text-textSecondary"},ge={class:"text-xl font-bold text-textPrimary"},ve={class:"text-[10px] uppercase tracking-wider text-textSecondary"},Pe={class:"text-xl font-bold text-textPrimary flex items-center gap-1"},ke={class:"text-[10px] uppercase tracking-wider text-textSecondary"},we={class:"relative w-full"},$e={class:"h-3 w-full overflow-hidden rounded-full bg-bgPrimary border border-strokePrimary/30"},Se=j({__name:"ProfileSummaryCard",props:{summary:{}},setup(p){const{t:i}=I(),d=p,m=u(()=>d.summary.xp??0),c=u(()=>Math.floor(m.value/1e3)+1),x=u(()=>m.value%1e3),h=u(()=>x.value/1e3*100),s=u(()=>{const v=c.value;return v<=5?"Junior":v<=15?"Mid":"Senior"}),f=V(!1);return(v,a)=>(n(),l("section",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[d.summary.avatarUrl?(n(),l("img",{key:0,src:d.summary.avatarUrl,alt:d.summary.nickname,class:"h-full w-full rounded-full object-cover"},null,8,oe)):(n(),l("span",re,"?")),e("span",le,t(c.value),1)]),e("div",null,[e("div",ne,[e("h2",ae,t(d.summary.nickname),1),a[5]||(a[5]=e("span",{class:"text-2xl text-textSecondary"},"-",-1)),e("span",ie,t(s.value),1),e("div",de,[e("button",{class:"flex items-center justify-center w-5 h-5 rounded-full border border-textSecondary/50 text-textSecondary hover:text-textPrimary hover:border-textPrimary transition-colors",onMouseenter:a[0]||(a[0]=P=>f.value=!0),onMouseleave:a[1]||(a[1]=P=>f.value=!1),onFocus:a[2]||(a[2]=P=>f.value=!0),onBlur:a[3]||(a[3]=P=>f.value=!1)},[_(Q,{class:"w-3.5 h-3.5"})],32),f.value?(n(),l("div",ce,[e("p",ue,t(r(i)("profile.levelInfo")),1),a[4]||(a[4]=e("ul",{class:"space-y-0.5"},[e("li",null,[e("span",{class:"text-textPrimary"},"Junior:"),b(" lvl 1-5")]),e("li",null,[e("span",{class:"text-textPrimary"},"Mid:"),b(" lvl 6-15")]),e("li",null,[e("span",{class:"text-textPrimary"},"Senior:"),b(" lvl 16+")])],-1))])):S("",!0)])]),e("p",xe,t(d.summary.description),1),e("div",pe,[e("span",me,t(x.value)+"/1000 PD",1)])])]),e("div",fe,[e("span",_e,t(r(i)("profile.courseSummary")),1),e("div",be,[e("div",null,[e("div",he,t(d.summary.completed),1),e("div",ye,t(r(i)("lessonStatus.completed")),1)]),e("div",null,[e("div",ge,t(d.summary.inProgress),1),e("div",ve,t(r(i)("lessonStatus.inProgress")),1)]),e("div",null,[e("div",Pe,[b(t(d.summary.waitingTasks)+" ",1),a[6]||(a[6]=e("span",{class:"text-red-500"},"ðŸ”¥",-1))]),e("div",ke,t(r(i)("profile.streak")),1)])])])]),e("div",we,[e("div",$e,[e("div",{class:"h-full bg-gradient-to-r from-textPrimary to-blue-500 transition-all duration-500 ease-out relative",style:E({width:`${h.value}%`})},[...a[7]||(a[7]=[e("div",{class:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-full bg-white/30"},null,-1)])],4)])])])]))}}),Ce={class:"grid gap-4 md:grid-cols-3"},Le={class:"text-[10px] font-bold uppercase tracking-[0.2em] text-textSecondary"},je={class:"mt-2 text-4xl font-bold text-textPrimary"},De=j({__name:"StatsGrid",props:{stats:{}},setup(p){const i=p;return(d,m)=>(n(),l("section",Ce,[(n(!0),l(C,null,L(i.stats,c=>(n(),l("article",{key:c.id,class:"rounded-2xl border border-strokePrimary/30 bg-bgSecondary/40 p-6 transition hover:bg-bgSecondary/60"},[e("p",Le,t(c.label),1),e("p",je,t(c.value),1)]))),128))]))}}),Te={class:"space-y-4 rounded-3xl border border-strokePrimary/30 bg-bgSecondary/60 p-6"},Ee={class:"flex items-center justify-between"},Ie={class:"text-lg font-semibold"},We={class:"space-y-3"},Be={class:"flex items-center gap-2"},Me={class:"text-lg font-semibold text-textWhite"},Ae={class:"rounded-full bg-textPrimary/20 px-2 py-0.5 text-[10px] uppercase tracking-wider text-textPrimary"},Fe={class:"text-xs text-textSecondary mt-1"},Ne={class:"flex flex-col items-end gap-1"},Ve={key:0,class:"text-[10px] uppercase font-bold text-textSecondary"},ze=j({__name:"AchievementsList",props:{items:{}},setup(p){const{t:i,isEnglish:d}=I(),m=p,c=u(()=>[...m.items].sort((x,h)=>x.isEarned===h.isEarned?0:x.isEarned?-1:1));return(x,h)=>(n(),l("section",Te,[e("div",Ee,[e("h3",Ie,t(r(i)("profile.achievements")),1)]),e("div",We,[(n(!0),l(C,null,L(c.value,s=>(n(),l("article",{key:s.id,class:z(["flex items-center justify-between rounded-2xl border border-strokePrimary/30 bg-bgPrimary/40 px-4 py-3 transition-opacity",{"opacity-50 grayscale":!s.isEarned}])},[e("div",null,[e("div",Be,[e("p",Me,t(r(d)&&s.title_en?s.title_en:s.title),1),e("span",Ae,t(s.level),1)]),e("p",Fe,t(r(d)&&s.description_en?s.description_en:s.description),1)]),e("div",Ne,[s.isEarned?S("",!0):(n(),l("span",Ve,t(r(i)("profile.notEarned")),1))])],2))),128))])]))}}),Oe={class:"flex min-h-screen flex-col bg-bgPrimary text-textWhite"},Ge={class:"mx-auto flex w-full max-w-6xl flex-1 flex-col gap-8 px-6 py-10"},He={class:"space-y-6 rounded-2xl border border-strokePrimary/30 bg-card p-6"},Je={class:"flex flex-wrap items-start justify-between gap-4"},Re={class:"text-xl font-semibold text-textWhite"},Ue={class:"text-sm text-textSecondary"},Xe={class:"rounded-full border border-textSecondary/30 px-4 py-1 text-xs uppercase tracking-[0.3em] text-textSecondary"},qe={key:0,class:"grid gap-4 md:grid-cols-2"},Ke={class:"flex items-start justify-between gap-3"},Qe={class:"flex items-center gap-3"},Ye={key:0,class:"w-12 h-12 rounded-lg bg-card overflow-hidden shrink-0 border border-strokePrimary/20 p-1"},Ze=["src","alt"],et={class:"text-xs uppercase tracking-[0.3em] text-textSecondary"},tt={class:"text-lg font-semibold text-textWhite"},st={class:"rounded-full border border-emerald-400/40 bg-emerald-500/20 px-3 py-1 text-xs font-semibold text-emerald-200 whitespace-nowrap"},ot={class:"flex items-center justify-between text-xs text-textSecondary"},rt={class:"mt-2 h-2 w-full overflow-hidden rounded-full bg-cardHover"},lt=["aria-label","onClick"],nt={key:1,class:"rounded-xl border border-dashed border-strokePrimary/40 p-4 text-sm text-textSecondary"},at={class:"space-y-6 rounded-2xl border border-strokePrimary/30 bg-card p-6"},it={class:"flex flex-wrap items-start justify-between gap-4"},dt={class:"text-xl font-semibold text-textWhite"},ct={class:"text-sm text-textSecondary"},ut={class:"rounded-full border border-textSecondary/30 px-4 py-1 text-xs uppercase tracking-[0.3em] text-textSecondary"},xt={key:0,class:"grid gap-4 md:grid-cols-2"},pt={class:"flex items-start justify-between gap-3"},mt={class:"flex items-center gap-3"},ft={key:0,class:"w-12 h-12 rounded-lg bg-card overflow-hidden shrink-0 border border-strokePrimary/20 p-1"},_t=["src","alt"],bt={class:"text-xs uppercase tracking-[0.3em] text-textSecondary"},ht={class:"text-lg font-semibold text-textWhite"},yt={class:"rounded-full border border-amber-300/50 bg-amber-400/15 px-3 py-1 text-xs font-semibold text-amber-200 whitespace-nowrap"},gt={class:"text-sm text-textSecondary"},vt={class:"text-textPrimary font-semibold"},Pt={class:"flex items-center justify-between text-xs text-textSecondary"},kt={class:"mt-2 h-2 w-full overflow-hidden rounded-full bg-cardHover"},wt=["aria-label","onClick"],$t={key:1,class:"rounded-xl border border-dashed border-strokePrimary/40 p-4 text-sm text-textSecondary"},It=j({__name:"ProfileSite",setup(p){const i=G(),{dashboardData:d,loadDashboardData:m}=R(),{profileData:c,isProfileLoading:x,loadProfileData:h}=U(),{t:s}=I();O(()=>{m(),h()});const f=u(()=>({nickname:s("profile.user"),description:s("profile.loadingProfile"),progress:0,completed:0,inProgress:0,waitingTasks:0})),v=k=>{},a=k=>{i.push({name:"course-detail",params:{courseId:k}})},P=u(()=>d.value?.navLinks??[]),W=u(()=>c.value?.summary??f.value),M=u(()=>c.value?.achievements??[]),y=u(()=>c.value?.completedCourses??[]),g=u(()=>c.value?.enrolledCourses??[]),A=u(()=>{const k=y.value.length,w=g.value.length,o=y.value.reduce((D,T)=>D+T.completedLessons,0),$=g.value.reduce((D,T)=>D+T.completedLessons,0),F=o+$,N=W.value.xp??0;return[{id:"completed-courses",label:s("profile.completedCourses"),value:`${k}`,helper:w===0?s("profile.coursesInProgress")+": 0":`${w} ${s("profile.coursesInProgress").toLowerCase()}`},{id:"tasks",label:s("profile.completedLessons"),value:`${F}`,helper:`${o} â€¢ ${$}`},{id:"points",label:s("profile.earnedPoints"),value:`${N} PD`,helper:s("profile.basedOnCompleted")}]});return(k,w)=>(n(),l("div",Oe,[_(H,{"nav-links":P.value},null,8,["nav-links"]),e("main",Ge,[_(Se,{summary:W.value},null,8,["summary"]),_(De,{stats:A.value},null,8,["stats"]),e("section",He,[e("div",Je,[e("div",null,[e("h2",Re,t(r(s)("profile.completedCourses")),1),e("p",Ue,t(r(s)("profile.noCompletedCourses").split(".")[0])+".",1)]),e("span",Xe,t(y.value.length)+" "+t(y.value.length===1?"course":"courses"),1)]),y.value.length?(n(),l("div",qe,[(n(!0),l(C,null,L(y.value,o=>(n(),l("article",{key:o.id,class:"flex flex-col gap-4 rounded-2xl border border-strokePrimary/30 bg-cardDarker p-5"},[e("div",Ke,[e("div",Qe,[o.image_path?(n(),l("div",Ye,[e("img",{src:o.image_path,class:"w-full h-full object-contain",alt:o.title},null,8,Ze)])):S("",!0),e("div",null,[e("p",et,t(o.level),1),e("h3",tt,t(o.title),1)])]),e("span",st,t(r(s)("lessonStatus.completed")),1)]),e("div",null,[e("div",ot,[e("span",null,t(o.completedLessons)+"/"+t(o.totalLessons),1),w[0]||(w[0]=e("span",null,"100%",-1))]),e("div",rt,[e("div",{class:"h-full rounded-full bg-textPrimary",style:E({width:`${o.progress}%`})},null,4)])]),e("button",{class:"inline-flex items-center justify-center gap-2 rounded-full border border-textPrimary/60 px-4 py-2 text-sm font-semibold text-textPrimary transition hover:bg-textPrimary/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary","aria-label":r(s)("profile.goToCourse"),tabindex:"0",onClick:$=>a(o.id)},[b(t(r(s)("profile.goToCourse"))+" ",1),_(B,{class:"h-4 w-4"})],8,lt)]))),128))])):(n(),l("p",nt,t(r(x)?r(s)("profile.loadingCourses"):r(s)("profile.noCompletedCourses")),1))]),e("section",at,[e("div",it,[e("div",null,[e("h2",dt,t(r(s)("profile.coursesInProgress")),1),e("p",ct,t(r(s)("profile.continueLesson")),1)]),e("span",ut,t(g.value.length)+" "+t(g.value.length===1?"course":"courses"),1)]),g.value.length?(n(),l("div",xt,[(n(!0),l(C,null,L(g.value,o=>(n(),l("article",{key:o.id,class:"flex flex-col gap-4 rounded-2xl border border-strokePrimary/30 bg-cardDarker p-5"},[e("div",pt,[e("div",mt,[o.image_path?(n(),l("div",ft,[e("img",{src:o.image_path,class:"w-full h-full object-contain",alt:o.title},null,8,_t)])):S("",!0),e("div",null,[e("p",bt,t(o.level),1),e("h3",ht,t(o.title),1)])]),e("span",yt,t(r(s)("lessonStatus.inProgress")),1)]),e("p",gt,[b(t(r(s)("profile.continueLesson"))+" ",1),e("span",vt,t(o.nextLesson??"TBD"),1)]),e("div",null,[e("div",Pt,[e("span",null,t(o.completedLessons)+"/"+t(o.totalLessons),1),e("span",null,t(o.progress)+"%",1)]),e("div",kt,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-textPrimary to-[#6dd5ed]",style:E({width:`${o.progress}%`})},null,4)])]),e("button",{class:"inline-flex items-center justify-center gap-2 rounded-full bg-textPrimary px-4 py-2 text-sm font-semibold text-bgPrimary transition hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-textPrimary","aria-label":r(s)("profile.goToCourse"),tabindex:"0",onClick:$=>a(o.id)},[b(t(r(s)("profile.goToCourse"))+" ",1),_(B,{class:"h-4 w-4"})],8,wt)]))),128))])):(n(),l("p",$t,t(r(x)?r(s)("profile.loadingCourses"):r(s)("profile.noEnrolledCourses")),1))]),_(ze,{items:M.value,onOpen:v},null,8,["items"])])]))}});export{It as default};
